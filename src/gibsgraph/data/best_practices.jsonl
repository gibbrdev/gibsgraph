{"title": "Graph modeling tips", "description": "In this guide, you find some helpful information to designing a data model for your domain.  Optimizing the model helps developers to maximize performance of the system and queries.", "category": "modeling", "cypher_examples": [], "source_file": "modules\\ROOT\\pages\\data-modeling\\modeling-tips.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Transition from NoSQL to graph database", "description": "This chapter explains how graph databases are related to other NoSQL databases and how they differ.", "category": "modeling", "cypher_examples": [], "source_file": "modules\\ROOT\\pages\\appendix\\graphdb-concepts\\graphdb-vs-nosql.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Comparing relational to graph database", "description": "This page explores the conceptual differences between relational and graph database structures and data models.", "category": "modeling", "cypher_examples": [], "source_file": "modules\\ROOT\\pages\\appendix\\graphdb-concepts\\graphdb-vs-rdbms.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Graph modeling tips", "description": "In this guide, you find some helpful information to designing a data model for your domain.  Optimizing the model helps developers to maximize performance of the system and queries.", "category": "modeling", "cypher_examples": [], "source_file": "modules\\ROOT\\pages\\data-modeling\\modeling-tips.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "A demonstration of causal cluster routing", "description": "The following will demonstrate how to use https://neo4j.com/docs/operations-manual/current/tools/cypher-shell/[cypher-shell] to get", "category": "cypher", "cypher_examples": ["neo4j> call dbms.cluster.overview() yield addresses, role;\n+", "neo4j> create (m:Person {id:123});\nNo write operations are allowed directly on this database. Writes must pass through the leader. The role of this server is: FOLLOWER\nneo4j> :exit", "neo4j> create (m:Person {id:123});\n0 rows available after 791 ms, consumed after another 3 ms\nneo4j> :exit"], "source_file": "articles\\modules\\ROOT\\pages\\a-demonstration-of-causal-cluster-routing.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "A Demonstration of Cluster Size at Formation and Runtime", "description": "*Causal Clustering Minimum Core Size At Formation*", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\a-demonstration-of-cluster-size-at-formation-and-runtime.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "A demonstration of IntraCluster SSL Encryption", "description": "This document provides a step-by-step demonstration of the process to deploy a Self-Signed SSL Certificate, to member", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\a-demonstration-of-intracluster-ssl-encryption.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "A light weight approach to validating network port connectivity", "description": "If it becomes necessary to validate, particularly in a clustered environment whether", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\a-light-weight-approach-to-validating-network-port-connectivity.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "A lightweight approach to testing the Neo4j REST API with Authentication", "description": "This article will show examples of how to test the Neo4j REST API for", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\a-lightweight-approach-to-testing-the-neo4j-rest-api-with-authentication.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "A method to calculate the size of an index in Neo4j.", "description": "If the need arises to calculate the size of an index in Neo4j, for capacity planning purposes, there are two methods available:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\a-method-to-calculate-index-size.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "A method to replicate a Causal Cluster to new hardware with minimum downtime", "description": "If the opportunity arises such that you are in need of replicating your existing", "category": "security", "cypher_examples": ["neo4j> call dbms.cluster.overview\n+"], "source_file": "articles\\modules\\ROOT\\pages\\a-method-to-replicate-a-causal-cluster-to-new-hardware-with-minimum-downtime.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "A note on OPTIONAL MATCHes", "description": "An `OPTIONAL MATCH` matches patterns against your graph database, just like a `MATCH` does. The difference is that if no matches are found, `OPTIONAL MATCH` will use a null for missing parts of the pattern. `OPTIONAL MATCH` could be considered the Cypher equivalent of the outer join in SQL.", "category": "cypher", "cypher_examples": ["OPTIONAL MATCH (actor:Actor)-[:ACTED_IN]->(:Movie)<-[:DIRECTED]-(director:Director {uuid:'fd787f45-df1a-4f8b-b4a9-ab7b90fefae4'}) \nOPTIONAL MATCH (director)-[:HAS_STUDIO*2]->(:Studio)-[:HAS_ACTOR]->(actor)-[:HAS_PROFILE]->(profile:Profile) \nWHERE profile.type IN [\"Drama\", \"Action\"] \nMERGE (director)-[:HAS]->(actor) \nON CREATE SET profile.uuid = apoc.create.uuid(), profile.lastTimeReported = '2018-12-15T23:13:22.274', profile.reportingState = 'Active' \nON MATCH SET profile.lastTimeReported = '2018-07-15T23:30:00.000', profile.reportingState = 'Active' \nRETURN COUNT(profile) as updatedCount", "OPTIONAL MATCH (a)\nMERGE (a)-[:X]->()", "MATCH (actor:Actor)-[:ACTED_IN]->(:Movie)<-[:DIRECTED]-(director:Director {uuid:'fd787f45-df1a-4f8b-b4a9-ab7b90fefae4'}) \nOPTIONAL MATCH (director)-[:HAS_STUDIO*2]->(:Studio)-[:HAS_ACTOR]->(actor)-[:HAS_PROFILE]->(profile:Profile) \nWHERE profile.type IN [\"Drama\", \"Action\"] \nMERGE (director)-[:HAS]->(actor) \nON CREATE SET profile.uuid = apoc.create.uuid(), profile.lastTimeReported = '2018-12-15T23:13:22.274', profile.reportingState = 'Active' \nON MATCH SET profile.lastTimeReported = '2018-07-15T23:30:00.000', profile.reportingState = 'Active' \nRETURN COUNT(profile) as updatedCount"], "source_file": "articles\\modules\\ROOT\\pages\\a-note-on-optional-matches.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "A significant change in apoc.periodic.iterate() in apoc 4.0", "description": "In 3.5 an entity (node, relationship, path) could be acquired in one transaction and safely reused by another.", "category": "cypher", "cypher_examples": ["CALL apoc.periodic.iterate('MATCH (:Account)-[r:ASSOCIATED_WITH]->() RETURN r',\n    'CALL apoc.do.case(.....) YIELD value RETURN value',\n     {batchSize: 10000, parallel: false, iterateList: true});", "CALL apoc.periodic.iterate('MATCH (:Account)-[r:ASSOCIATED_WITH]->() RETURN id(r) as id',\n    'MATCH ()-[r]->() WHERE id(r)=id CALL apoc.do.case(.....) YIELD value RETURN value', \n    {batchSize: 10000, parallel: false, iterateList: true});"], "source_file": "articles\\modules\\ROOT\\pages\\a-significant-change-in-apoc-periodic-iterate-in-apoc-4-0.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Achieving longestPath Using Cypher", "description": "While Cypher is optimized for finding the shortest path between two nodes, with such functionality as `shortestPath()`,", "category": "cypher", "cypher_examples": ["MATCH p=(parent:Root)-[r:HAS_CHILD*1..10]->(child:Node)\nRETURN p", "MATCH p=(parent:Root)-[:HAS_CHILD*1..10]->(child:Node)\nWHERE NOT (child)-[:HAS_CHILD]->()\nRETURN p", "MATCH p=(start:Node)-[:REL*1..10]->(end:Node)\nWHERE id(start) = 123 AND id(end) = 456\nRETURN p\nORDER BY length(p) DESC\nLIMIT 1"], "source_file": "articles\\modules\\ROOT\\pages\\achieving-longestpath-using-cypher.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Add a Neo4j instance to a running embedded HA application", "description": "There are situations when we would like to use the Neo4j Browser to access an embedded HA cluster.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\add-a-neo4j-instance-to-an-embedded-ha-application.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "All shortest paths between a set of nodes", "description": "Consider a number of arbitrary nodes,  A,B,C,D,E,F,.....", "category": "cypher", "cypher_examples": ["MATCH (n:Entity) where n.name IN {names}\nWITH collect(n) as nodes\nUNWIND nodes as n\nUNWIND nodes as m\nWITH * WHERE id(n) < id(m)\nMATCH path = allShortestPaths( (n)-[*..4]-(m) )\nRETURN path"], "source_file": "articles\\modules\\ROOT\\pages\\all-shortest-paths-between-set-of-nodes.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Alternatives to UNION queries", "description": "While UNIONs can be useful for certain cases, they can often be avoided completely with small changes to the query.", "category": "cypher", "cypher_examples": ["MATCH (:Person {name:'Keanu Reeves'})-[:ACTED_IN]->(movie:Movie)<-[:ACTED_IN]-(coactor)\nRETURN movie, coactor", "MATCH (:Person {name:'Keanu Reeves'})-[:ACTED_IN]->(movie:Movie)<-[:ACTED_IN]-(coactor)\nRETURN movie, coactor\nUNION\nMATCH (p:Person {name:'Keanu Reeves'})-[:ACTED_IN]->(movie:Movie)\nRETURN movie, p as coactor", "MATCH (:Person {name:'Keanu Reeves'})-[:ACTED_IN]->(movie:Movie)\nMATCH (movie)<-[:ACTED_IN]-(coactor)\nRETURN movie, coactor"], "source_file": "articles\\modules\\ROOT\\pages\\alternatives-to-union-queries.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using Amazon CloudWatch to monitor Neo4j logs", "description": "This article describes how to set up Amazon http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/WhatIsCloudWatch.html[CloudWatch].", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\amazon-cloudwatch-configuration-for-neo4j-logs.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "An approach to parsing the query.log", "description": "When one has enabled query.log through Neo4j Enterprise parameter", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\an-approach-to-parsing-the-query-log.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "An example of neo4j-import steps in a Causal Cluster environment", "description": "The following steps are provided to describe how to use neo4j-import in a Causal Cluster environment and was run from an", "category": "security", "cypher_examples": ["create (n:Tester {id:105});"], "source_file": "articles\\modules\\ROOT\\pages\\an-example-of-neo4j-import-steps-in-a-causal-cluster-environment.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "An explanation of the E_COUNT_EXCEEDED WARNing message in Neo4j's debug.log.", "description": "The document aims to explain the `E_COUNT_EXCEEDED` WARNing messages that Neo4j can write to its debug.log.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\an-explanation-of-e-count-exceeded.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "An explanation of entries in query.log", "description": "This document aims to provide descriptions of components of the query.log logfile located at $NEO4J_HOME/logs. Note that the", "category": "cypher", "cypher_examples": ["match (n:Person {name:'Tom Hanks'})-[:ACTED_IN]->(n1:Movie)<-[:DIRECTED]-(n2:Person {name:\"Tom Hanks\"}) return n1.title"], "source_file": "articles\\modules\\ROOT\\pages\\an-explanation-of-entries-in-query-log.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "An overview of the system database", "description": "Neo4j 4.0 and higher versions support the management of multiple databases within the same DBMS. All these databases are controlled through a special database called the `system` database.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\an-overview-of-the-system-database.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Analyzing a java heap dump", "description": "The purpose of this article is to help you go through the acquired heapdump with Eclipse MAT.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\analyzing-a-java-heap-dump.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Are my cluster transactions/messages encrypted.", "description": "For all versions prior to 3.3, there is no encryption done specifically on the contents being transferred.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\are-my-cluster-transactions-messages-encrypted.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Assign or restrict CPU cores to Neo4j process", "description": "Operating system run performance-critical applications on multi-core processors using something called \"processor affinity\"", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\assign-or-restrict-cpu-cores-to-neo4j-process.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Backup Failed. Unexpected error: Base directory for SSL policy with name 'default' does not exist.", "description": "This article is based on a defect report with a suggested workaround until a fix becomes available.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\backup-failed-unexpected-error-base-directory-for-ssl-policy-with-name-default-does-not-exist.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Bloom Compatibility with Neo4j 5.0", "description": "Neo4j Bloom makes use of database procedures for identifying indexes and constraints that have been deprecated and will be unavailable in Neo4j 5.0. These changes have been implemented to ensure a higher level of security compliance and to enable administrators better control over which information is available to authorized users.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\bloom-compatibility-neo4j50.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Bloom Logging System", "description": "Starting with Bloom 2.1, it's possible to extract logs at various levels of detail from the web browser's developer console when running in Chrome, Firefox or Edge. Please consult documentation for your web browser to determine how to access the console.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\bloom-logging-system.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Throttling Bolt Requests", "description": "When large amounts of data are sent between a Neo4j database and a client (typically large query results, from server to client), there are a few hidden throttling mechanisms that may come into play.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\bolt-throttling.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Can I use NFS as my filesystem or datastore storage?", "description": "The short answer is no.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\can-i-use-nfs-as-my-filesystem-or-datastore-storage.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Capacity Planning Example", "description": "Here is a back of the napkin example of capacity planning for a Neo4j workload for the following list of requirements:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\capacity-planning-example.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Causal Cluster FAQ for heavy workloads", "description": "*Lagging of follower instances and what causes it?*", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\causal-cluster-faq-for-heavy-workloads.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Change logging levels in Neo4j Embedded", "description": "In order to change the default logging levels in a Neo4j embedded instance, you must edit/define the configuration file, which is XML.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\change-logging-levels-in-neo4j-embedded.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Changes to metrics.csv reporting from 2.x to 3.x", "description": "Metrics reporting is an Enterprise feature which upon enablement allows for the creation of .csv files at a specified interval to record key metrics.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\changes-to-metrics-csv-reporting-from-2-x-to-3-x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Retired: Changing your Garbage Collection Method to G1", "description": "This is already the default Garbage Collector in Neo4j 2.3+.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\changing-your-garbage-collection-method-to-g1.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Checkpointing and Log Pruning interactions", "description": "Checkpointing is the process of flushing all pending page updates from the page cache to the store files. This is necessary for ensuring that the number of transactions that are in need of being replayed during recovery is kept to a reasonable number, mostly to reduce recovery time after an improper shutdown. Regardless of the existence of checkpoints, database operations remain safe, since all transactions not confirmed to have had their changes persisted to storage will be replayed on the next", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\checkpointing-and-log-pruning-interactions.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Cluster: org.neo4j.kernel.impl.transaction.log.NoSuchTransactionException: Unable to find transaction 1 in any of my logical logs: Couldn't find any log containing 1", "description": "When operating a https://neo4j.com/docs/operations-manual/current/clustering/causal-clustering/setup-new-cluster/#unbind-instance-from-cluster[causal cluster^], if \"the store\" (`data/databases/graph.db`) is removed from a server that was previously a member of the cluster we will get the following exception when that server is started:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\cluster-unable-to-find-transaction.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Example of using the Command Expansion on Windows", "description": "The **Command Expansion** feature, introduced in **Neo4j 4.2**, is a security feature to avoid having configuration parameters being written in the `neo4j.conf` file in plain text.", "category": "security", "cypher_examples": ["CALL dbms.listConfig() YIELD name, value WHERE name = 'dbms.max_databases' RETURN value"], "source_file": "articles\\modules\\ROOT\\pages\\command-expansion-example-on-windows.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Comparing HA and Causal Clusters", "description": "The legacy HA cluster mode has been deprecated as of Neo4j version 3.5, and will be totally removed from the product in version 4.0, with 4.0 expected to be released near the end of 2019.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\comparing-ha-vs-causal-clusters.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Comparing relationship properties within a path", "description": "You want to compare relationship-properties of a path, either by a global value or parameter, or with each other within a path.", "category": "cypher", "cypher_examples": ["(:Person {person_id:'123'})-[:FRIEND {date:'1972-01-01'}]->(m:Person {person_id:'456'})", "CREATE CONSTRAINT ON (p:Person) ASSERT p.person_id IS UNIQUE", "CREATE INDEX ON :Person(person_id);"], "source_file": "articles\\modules\\ROOT\\pages\\comparing-relationship-properties-within-a-path.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Conditional Cypher Execution", "description": "At some point you're going to write a Cypher query requiring some conditional logic, where you want different Cypher statements executed depending on the case.", "category": "cypher", "cypher_examples": ["MATCH (bruce:Person {name:'Bruce Wayne'})\nCALL {\n    WITH bruce\n    WITH bruce\n    WHERE bruce.isOrphan\n    MERGE (batman:Hero {name:'Batman'})\n    CREATE (bruce)-[:SuperheroPersona]->(batman)\n    WITH count(batman) as count\n    RETURN count = 1 as isBatman\n}\nRETURN isBatman", "WITH count(batman) as count\n    RETURN count = 1 as isBatman", "MATCH (bruce:Person {name:'Bruce Wayne'})\nCALL {\n    WITH bruce\n    WITH bruce\n    WHERE bruce.isOrphan\n    MERGE (batman:Hero {name:'Batman'})\n    CREATE (bruce)-[:SuperheroPersona]->(batman)\n    RETURN true as isBatman\n\n    UNION\n\n    WITH bruce\n    WITH bruce\n    WHERE NOT coalesce(bruce.isOrphan, false)\n    SET bruce.name = 'Bruce NOT BATMAN Wayne'\n    RETURN false as isBatman\n}\nRETURN isBatman"], "source_file": "articles\\modules\\ROOT\\pages\\conditional-cypher-execution.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Configure HAProxy to Send Write Requests to Leader Node Only", "description": "There are a few options regarding implementation of a proxy server to direct writes to a Master node and reads to the Slave nodes in a Neo4j cluster.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\configure-haproxy-to-send-write-requests-to-master-node-only.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Configure Neo4j to authenticate users from different OUs using the Active Directory attribute samAccountName", "description": "Beginning with Neo4j version https://github.com/neo4j/neo4j/wiki/Neo4j-3.2-changelog#322[3.2.2], it is possible to authenticate using", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\configure-neo4j-multiple-ous-using-active-directory-attribute-samaccountname.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Configuring Neo4j to operate on privileged ports", "description": "In some environments, users are required to run Neo4j on ports lower than 1024 due to corporate policies. The following is a sample configuration showing how to configure Neo4j 3.5 and newer to listen on those ports.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\configure-neo4j-operate-on-privileged-ports.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Configuring Remote JMX monitoring", "description": "In order to enable JMX Remote monitoring, edit the  `neo4j.conf` file in Neo4j 3.1.x versions and uncomment the following lines:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\configuring-remote-jmx-monitoring.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Connecting via Bolt when using Tunnelling or NAT", "description": "This article aims to provide a method to connect to the Neo4j database over bolt, via Neo4j browser where the bolt host is different", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\connecting-bolt-when-using-tunnelling-or-nat.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Consideration about routing tables on multi-data center deployments", "description": "Using the official Neo4j drivers means that you can take advantage of the full cluster routing capabilities of the drivers. This means", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\consideration-about-routing-tables-on-multi-data-center-deployments.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Control number of file handles created per Lucene Index", "description": "In the more recent Neo4j versions (3.4 onwards), the number of file handles opened by Neo4j may seem to increase compared with that in older versions.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\control-number-of-file-handles-created-per-lucene-index.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Launching Neo4j Desktop in Linux (Ubuntu & Debian) with an .appimage file", "description": "NOTE: Neo4j installation on Linux using apt-get,", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\convert-an-appimage-file-into-executable-on-linux-ubuntu-debian.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "How do I resolve inconsistency problems on an instance of a cluster", "description": "(if using HA (High Availability, please read `Leader` and `Follower` instead of `Master` and `Slave` respectively)", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\copy-store-between-instances.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Creating and working with linked lists in Cypher", "description": "At some point when working with a graph, you may want to create a linked list out of some nodes.", "category": "cypher", "cypher_examples": ["// assume a, b, and c were previously matched and in scope\nCREATE (a)-[:REL]->(b)-[:REL]->(c)", "MATCH (p:Person)\nWITH p\nORDER BY p.name ASC\nLIMIT 5\nWITH collect(p) as persons\nCALL apoc.nodes.link(persons, 'KNOWS')\nRETURN persons", "MATCH (p:Person)\nWITH p\nORDER BY p.name ASC\nLIMIT 5\nWITH collect(p) as persons\nFOREACH (i in range(0, size(persons) - 2) |\n FOREACH (node1 in [persons[i]] |\n  FOREACH (node2 in [persons[i+1]] |\n   CREATE (node1)-[:KNOWS]->(node2))))"], "source_file": "articles\\modules\\ROOT\\pages\\creating-and-working-with-linked-lists.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Creating and configuring database-local roles", "description": "Neo4j 4.0 introduced advanced security features in the form of https://neo4j.com/docs/cypher-manual/current/access-control/[role-based access controls], much needed, especially with the introduction of multiple database functionality.", "category": "cypher", "cypher_examples": ["CREATE ROLE db1_reader AS COPY OF reader;\nREVOKE GRANT ACCESS ON DATABASES * FROM db1_reader;\nGRANT ACCESS ON DATABASE db1 TO db1_reader;\nGRANT ROLE db1_reader TO user_a;", "CREATE ROLE db2_accessor;\nGRANT ACCESS ON DATABASE db2 TO db2_accessor;\nGRANT ROLE db2_accessor TO user_a;", "SHOW USER user_a PRIVILEGES;"], "source_file": "articles\\modules\\ROOT\\pages\\creating-database-local-roles.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Cross Product Cypher queries will not perform well", "description": "Just like SQL, if you do not properly connect the parts of your query, it will result in a cross (cartesian) product, which is seldom what you want.", "category": "cypher", "cypher_examples": ["MATCH (p:Person), (m:Movie)\nRETURN p, m;"], "source_file": "articles\\modules\\ROOT\\pages\\cross-product-cypher-queries-will-not-perform-well.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using Cypher how do I determine the version and edition of Neo4j", "description": "If you want to determine version and edition of the running Neo4j instance this can be accomplished via running the following cypher:", "category": "cypher", "cypher_examples": ["call dbms.components() yield name, versions, edition unwind versions as version return name, version, edition;"], "source_file": "articles\\modules\\ROOT\\pages\\cypher-to-determine-version-and-edition-of-neo4j.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Importing Data to Neo4j in the Cloud", "description": "Loading data in a Neo4j instance that is in the cloud is very similar to running Neo4j using any other method. However, there are a few small things to look out for and keep in mind when importing data to a 'cloud graph'. We will discuss the main ones in this article.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\data-import-for-cloud.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Database Compaction in 4.0 using Neo4j-admin copy", "description": "This article demonstrates using the neo4j-admin copy tool to reclaim un-used space occupied by neo4j store files.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\database-compaction-in-40-using-neo4j-admin-copy.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Database was successfully initialized, but failed to start", "description": "Sometimes when the database does not start it could be something as simple as unnecessary characters in the neo4j.conf file. For example if you add space and/or tab characters to below setting:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\database-was-successfully-initialized-but-failed-to-start.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Debian: apt-get failing to update Neo4j", "description": "The common cause is an out of date gpg key.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\debian-apt-get-failing-to-update-neo4j.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Debian / Ubuntu: How to enforce a certain version of neo4j when using debian packages", "description": "If you want to run a specific version of Neo4j and install the software via a https://neo4j.com/docs/operations-manual/current/installation/linux/debian/#debian[debian repository^] you need to use a technique called https://wiki.debian.org/AptPreferences[apt pinning^]. Otherwise, any system update will also update Neo4j to its latest stable version.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\debian-ubuntu-version-apt-pinning.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Deploying Neo4j on AWS Using CloudFormation", "description": "This page describes how to use CloudFormation to deploy Neo4j clusters on AWS, using Virtual", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\deploy-aws-cloudformation.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to diagnose locking issues", "description": "Since Neo4j 3.4 it's possible to better understand locking issues caused by concurrent query. This KB article will not detail the basics", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\diagnose-locking-issues.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Diagnose storage performance issues", "description": "Slow storage can affect Neo4j performance, therefore we recommend using Solid State Drives in the https://neo4j.com/docs/operations-manual/current/performance/disks-ram-and-other-tips/#performance-storage[product documentation^].", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\diagnose-storage-performance-issues.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Diagnosing network latency in a Causal Cluster using MTR", "description": "MTR is a simple ICMP based test combining ping and traceroute. The following demonstrates usage of the MTR trace tool to", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\diagnosing-network-latency-in-a-causal-cluster-using-mtr.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Displaying Query CPU Utilization and Allocated Bytes in Query log", "description": "In Neo4j 3.3 and prior versions, when query logging is enabled with the following configuration parameters:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\displaying-cpu-utilization-and-allocated-bytes-in-query-log.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j Docker image cannot run on kubernetes as non root user", "description": "In Kubernetes (K8S) various levels of security can be set which apply cluster-wide to Pods running containers.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\docker-image-cannot-run-on-kubernetes-as-non-root-user.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Docker \"Permission Denied\" Error", "description": "When a docker instance is started, one could get a permission denied error such as", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\docker-permission-denied.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Dump the Contents of a Transaction Log", "description": "If there is a need to look through the transaction logs, particularly to see if/when a node or relationship (or property) with a given ID was touched, you will need to dump the log using the `DumpLogicalLog` tool.", "category": "modeling", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\dump-the-contents-of-a-transaction-log.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Embed neo4j-enterprise within your java application", "description": "The link:https://neo4j.com/docs/java-reference/3.5/[Neo4j Java Reference Documentation] generally describes how to embed Neo4j Community Edition within your Java application. If you are licensed for Neo4j Enterprise, this article will guide you through setting up the project to use Neo4j Enterprise embedded within your application.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\embed-neo4j-enterprise-within-your-java-application.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Enabling GC Logging", "description": "A garbage collection event is a complete pause of the java application (ie: neo4j-server).", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\enabling-gc-logging.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Enabling TLSv1.2 with IBM JDK9", "description": "Neo4j 3.4.0 only supports TLSv1.2 by default. IBM JDK9 uses the TLSv1 protocol by default. When attempting to run cypher-shell, users will be unable to connect to Neo4j.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\enabling-tlsv1-2-with-ibm-jdk9.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Enabling Transaction Timeout Within Application", "description": "There is a `dbms.transaction.timeout` global setting on Neo4j that can be set in `neo4j.conf` file so if any query from any user exceeds the timeout threshold specified, that query is terminated.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\enabling-transaction-timeout-within-application.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Executing Neo4j ETL from an RDBMS database running on Docker", "description": "Following provides some examples of importing a test csv data into Neo4j, using the Neo4j ETL tool's command line interface", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\executing-neo4j-etl-from-an-rdbms-database-running-on-docker.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of the \"consumed after\" message in query results", "description": "After successfully executing a query through the Neo4j Browser or cypher-shell, you may see a message formatted as follows accompanying the query results:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-consumed-after-message-in-query-results.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of data/log/console.log error of 'TLS certificate error occurred, unable to start server: Neither RSA, DSA nor EC worked...'", "description": "On `bin/neo4j start` the `data/log/console.log` may log an error similar to", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-data-log-console-log-error-of-tls-certificate.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explantion of debug.log message of Commits found after last checkpoint", "description": "When running backup for example", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-debug-log-message-of-commits-found-after-last-check-point.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Explanation of error \"Cannot merge node using null property value for\"", "description": "When running a https://neo4j.com/docs/cypher-manual/current/clauses/merge/[MERGE], which is a combination of MATCH and/or CREATE one may", "category": "cypher", "cypher_examples": ["load csv with headers from 'file:///test.csv' as row \nmerge (emp:Employee {id: row.id}) set emp.name=row.name, emp.employee_numer=row.employee_number;", "load csv with headers from 'file:///test.csv' as row  with row where row.id is not null \nmerge (emp:Employee {id: row.id}) set emp.name=row.name, emp.employee_numer=row.employee_number;"], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-cannot-merge-node-using-null-property-value.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Explanation of error \"Database constraints have changed (txId=xxxxx) after this transaction (txId=yyyyy) started, which is not yet supported\"", "description": "The following error, via `bin/neo4j-shell`:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-database-constraints-have-changed-txid-84-after-this-transaction-txid-81-started.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Explanation of Error: db fails to start with Caused by: org.neo4j.token.api.NonUniqueTokenException: The PropertyKey NamedToken", "description": "When attempting to start Neo4j and one is running a Neo4j 4.0.x release and where `x` is <=2 the following error may be", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-db-fails-to-start-with-caused-by-org-neo4j-token-api-nonuniqueyokenexception-the-propertykey-namedtoken.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"DeadlockDetectedException: ForsetiClient[0] can't acquire ExclusiveLock... ...\"", "description": "Under specific scenarios a DeadlockDetectedException may be encountered and the behavior is described at", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-deadlockdetectedexception-forseticlient-0-cant-acquire-exclusivelock.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"Failed to obtain connection towards WRITE server. Known routing table is: Ttl...\"", "description": "In Neo4j 4.0, if you are logged into the `READ_REPLICA` of a Causal Cluster, and execute the following command to login into `cypher-shell`:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-failed-to-obtain-connection-towards-write-server.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"java.lang.NoClassDefFoundError: org/apache/spark/sql/sources/v2/ReadSupport\"", "description": "In Neo4j 4.x, if you are using the Databricks Run-time of Spark and the neo4j-spark-connector.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-java-lang-noclassdeffounderror-readsupport.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"javax.net.ssl.SSLException: Received fatal alert: certificate_unknown\"", "description": "When connecting to a Neo4j instance with the Neo4j Browser, the following error may be logged in the `$NEO4J_HOME\\logs\\debug.log`", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-javax-net-ssl-sslexception-received-fatal-alert-certificate-unknown.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error LOAD CSV error of \"Couldn't load the external resource ...\"", "description": "When running a `LOAD CSV` Cypher statement, for example", "category": "cypher", "cypher_examples": ["LOAD CSV WITH HEADERS FROM \"http://10.12.1.2/Neo4j/cities.csv\" AS row WITH row create (c:cities {name:row.city});"], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-load-csv-error-of-couldnt-load-the-external-resource.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Explanation of error NoClassDefFoundError: org/neo4j/kernel/impl/util/JobScheduler", "description": "Upon upgrading to Neo4j 3.3, if you were previously using https://github.com/neo4j-contrib/neo4j-apoc-procedures[APOC], and", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-noclassdeffounderror-org-neo4j-kernel-impl-util-jobscheduler.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error on session connection using uniform drivers", "description": "As described by http://neo4j.com/docs/developer-manual/current/drivers/#_trust, when establishing an encrypted connection, it needs to be verified that the remote peer is who we expected to connect to.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-on-session-connection-using-uniform-drivers.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error: procedure is not available due to having restricted access rights, check configuration", "description": "Commencing with Neo4j 3.2 when running a stored procedure, for example", "category": "cypher", "cypher_examples": ["call apoc.warmup.run();"], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-procedure-is-not-available-due-to-having-restricted-access-rights-check-configuration.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Explanation of error \"Record id 65536 is out of range [0, 65535]\"", "description": "When running a Cypher statement that creates a new relationship type, for example", "category": "cypher", "cypher_examples": ["MERGE (n1:Person {id:1})-[r:knows]->(n2:Person {id:2})", "call db.relationshipTypes() yield relationshipType return count(relationshipType) as numRelTypes;"], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-record-id-65536-is-out-of-range.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Explanation of error \"Security Error: 18\" when using Internet Explorer and Neo4j Browser", "description": "When connecting to the Neo4j Browser `http://localhost:7474` and using Internet Explorer 11,", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-security-error-18-when-using-internet-explorer-and-neo4j-browser.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"Unrecognized transaction id. Transaction may have timed out and been rolled back\"", "description": "When submitting a request via the http://neo4j.com/docs/stable/rest-api-transactional.html[Neo4j Transactional Cypher HTTP endpoint], one may encounter the following error", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-unrecognized-transaction-id-transaction-may-have-timed-out-and-been-rolled-back.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of error \"WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver...", "description": "In Neo4j 3.0 and its implementation of the Bolt protocol, if a remote browser connects to Neo4j (http://<remote_neo4j_host>:7474) and attempts to authenticate, the following error may be encountered:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-error-websocket-connection-failure.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of lucene-1.0: Too many open files error", "description": "If one encounters a 'Too many open files' error in their $NEO4J_HOME/logs/debug.log similar to", "category": "modeling", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-lucene-1-0-too-many-open-files-error.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of start failure \"java.lang.NoClassDefFoundError: org/neo4j/kernel/impl/logging/LogService\"", "description": "Upon starting Neo4j 3.5 if one encounters the following error in the `logs/neo4j.log`", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\explanation-of-start-failure-noclassdeffounderror-org-neo4j-kernel-impl-logging-logservice.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Export a (sub)graph to Cypher script and import it again", "description": "Oftentimes you want to export a full (or partial) database to a file and import it again without copying the actual database files.", "category": "cypher", "cypher_examples": ["// exports the whole database incl. indexes as cypher statements to the provided file\nCALL apoc.export.cypher.all('/tmp/export.cypher',{format:'cypher-shell'})\n\n// exports given nodes and relationships incl. indexes as cypher statements to the provided file\nMATCH path = (p1:Person)-[r:KNOWS]->(p2:Person)\nWITH collect(p1)+collect(p2) as export_nodes, collect(r) as export_rels\nCALL apoc.export.cypher.data(export_nodes,export_rels,'/tmp/export.cypher',{format:'cypher-shell'})\nYIELD file, source, format, nodes, relationships, properties, time\nRETURN nodes, relationships, time;\n\n// exports given graph object incl. indexes as cypher statements to the provided file\n...\nCALL apoc.graph.fromPaths([paths],'export_graph',{}) YIELD graph\nCALL apoc.export.cypher.graph(graph,'/tmp/export.cypher',{format:'cypher-shell'}) YIELD time\nRETURN time;\n\n// exports nodes and relationships from the cypher statement incl. indexes as cypher statements to the provided file\nCALL apoc.export.cypher.query(\n'MATCH (p1:Person)-[r:KNOWS]->(p2:Person) RETURN *',\n'/tmp/export.cypher',{format:'cypher-shell'});", "// create nodes\n:begin\nCREATE (:`UNIQUE IMPORT LABEL` {`UNIQUE IMPORT ID`:0});\nCREATE (:`User` {`age`:43, `name`:\"User1\"});\n:commit\n\n// add schema\n:begin\nCREATE INDEX ON :`User`(`age`);\nCREATE CONSTRAINT ON (node:`User`) ASSERT node.`name` IS UNIQUE;\nCREATE CONSTRAINT ON (node:`UNIQUE IMPORT LABEL`) ASSERT node.`UNIQUE IMPORT ID` IS UNIQUE;\n:commit\n\n// wait for index completion\ncall db.awaitIndexes();\n\n// create relationships\n:begin\nMATCH (n1:`UNIQUE IMPORT LABEL`{`UNIQUE IMPORT ID`:0}), (n2:`User`{`name`:\"User1\"}) CREATE (n1)-[:`KNOWS` {`since`:2011}]->(n2);\n:commit\n\n// clean up temporary import keys (batched)\n:begin\nMATCH (n:`UNIQUE IMPORT LABEL`)  WITH n LIMIT 1000 REMOVE n:`UNIQUE IMPORT LABEL` REMOVE n.`UNIQUE IMPORT ID`;\n:commit\n:begin\nDROP CONSTRAINT ON (node:`UNIQUE IMPORT LABEL`) ASSERT node.`UNIQUE IMPORT ID` IS UNIQUE;\n:commit"], "source_file": "articles\\modules\\ROOT\\pages\\export-sub-graph-to-cypher-and-import.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Extracting Java Error When Installing Neo4j Desktop", "description": "In rare cases, Neo4j Desktop install might fail during the Java extract phase with the following message on Windows:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\extracting-java-error-during-neo4j-desktop-install.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explanation of \"Failed to update routing table with server\" error", "description": "If you encounter a *Failed to update routing table with server* error in their `$NEO4J_HOME/logs/debug.log` similar to:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\failed-to-update-routing-table-with-server.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Fast counts using the count store", "description": "Neo4j maintains a transactional count store for holding count metadata for a number of things.", "category": "cypher", "cypher_examples": ["MATCH (n)\nRETURN count(n) as count", "MATCH (n:Person)\nRETURN count(n) as count", "MATCH ()\nRETURN count(*) as count"], "source_file": "articles\\modules\\ROOT\\pages\\fast-counts-using-the-count-store.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Favorites for cypher-shell?", "description": "The Neo4j Browser has always had the ability to record `favorites`, i.e. a bookmark to saved cypher that you may want to run sometime in the future.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\favorites-for-cypher-shell.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Fix error: No dependency satisfies type interface org.neo4j.graphdb.GraphDatabaseService", "description": "From Neo4j 3.5 onwards, there are 2 kinds of Extension Factories : global and per database.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\fix-error-no-dependefix-error-no-dependency-satisfies-type-interface-org-neo4j-graphdb.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Four ways to check the consistency of a Neo4j graph", "description": "When it comes checking the inconsistencies in your graph, there are four methods to do. This article describes them below:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\four-ways-to-check-consistency.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Fulltext search in Neo4j", "description": "Please note that in Neo4j 3.5 fulltext search is available in Neo4j as part of Cypher stored procedures.", "category": "cypher", "cypher_examples": ["CALL db.index.fulltext.createNodeIndex(\"titlesAndDescriptions\",[\"Movie\", \"Book\"],[\"title\", \"description\", \"review\"])", "CALL db.index.fulltext.queryNodes(\"titlesAndDescriptions\", \"Full Metal Jacket\") YIELD node, score\nRETURN node.title, node.review, score", "CALL db.index.fulltext.queryNodes(\"titlesAndDescriptions\", \"'Full Metal Jacket'\") YIELD node, score\nRETURN node.title, score"], "source_file": "articles\\modules\\ROOT\\pages\\fulltext-search-in-neo4j.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Geocoding with Arcgis", "description": "* Create/obtain an Arcgis account.", "category": "cypher", "cypher_examples": ["WITH 'Statue of Liberty, Liberty Island New York, NY 10004' as address\n// get the configuration properties\nCALL apoc.static.getAll(\"arcgis\") yield value AS arcgis\n// build the URL\nWITH arcgis.geocode_url+apoc.text.urlencode(address)+'&token='+ arcgis.key as url\n// extract the top result\nCALL apoc.load.json(url, '$.candidates[0].location') YIELD value as location\nreturn location.x, location.y", "CALL apoc.static.getAll(\"arcgis\") yield value AS arcgis\nWITH arcgis.token_url+'&client_id='+arcgis.client_id+'&client_secret='+arcgis.client_secret as tokenUrl\nCALL apoc.load.json(tokenUrl) YIELD value as tokenResponse\nWITH tokenResponse.access_token as token\n// proceed with geocoding using 'token'"], "source_file": "articles\\modules\\ROOT\\pages\\geocoding-with-arcgis.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Getting a JVM heap dump", "description": "This document provides the process of creating a heap-dump on a java machine to investigate potential memory leaks.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\getting-a-jvm-heap-dump.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Graph Analytics In Layman Terms", "description": "Graphs in general are very powerful in providing answers where relations do matter a lot.  In this context, using graph queries (Cypher) allows us to answer specific questions when we know what to look for, such as:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\graph-analytics-in-layman-terms.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "HA Proxy Configuration for Online Backup", "description": "Online backup should be scheduled to run periodically on a production cluster. You only need to run it on one instance, since", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\ha-proxy-configuration-for-online-backup.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Helpful Commands When Supporting Neo4j", "description": "**Top 50 Slowest queries from Query log:**", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\helpful-commands-when-supporting-neo4j.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Hosting Multiple Neo4j Instances On One Machine", "description": "This document lists some considerations whilst planning to host multiple neo4j instances on the same physical host machine.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\hosting-multiple-neo4j-instances-on-one-machine.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Retired: How can I skip Consistency Check during Backup?", "description": "Backups in Neo4j automatically run a consistency check against the backed-up store.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-can-i-skip-consistency-check-during-backup.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How deletes work in Neo4j", "description": "Neo4j uses logical deletes to delete from the database to achieve maximum performance and scalability. To understand how this might appear to an operator of the database, lets take a simple case of loading data into Neo4j. When you start loading data, you can see", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-deletes-workin-neo4j.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I achieve the equivalent of a SQL Having clause with Cypher", "description": "With a traditional SQL based database a HAVING clause will restrict aggregated values.  For example", "category": "cypher", "cypher_examples": ["match (n:Person) \nwith n.zipcode as zip, count(*) as population \nwhere population > 100000\nreturn zip, population"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-achieve-the-equivalent-of-a-sql-having-clause-with-cypher.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I allow for authentication using Active Directory attribute samAccountName", "description": "Commencing with Neo4j https://github.com/neo4j/neo4j/wiki/Neo4j-3.2-changelog#322[3.2.2], it is now possible to authenticate using", "category": "security", "cypher_examples": ["neo4j> create (n:Person {id:1});\n0 rows available after 231 ms, consumed after another 1 ms\nAdded 1 nodes, Set 1 properties, Added 1 labels\nneo4j> match (n:Person {id:1}) return n;\n+"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-allow-for-authentication-using-active-directory-attribute-samaccountname.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I authenticate with cypher-shell without specifying the username and password on the command line", "description": "When using `$NEO4J_HOME/bin/cypher-shell` at the command line and authentication is enabled via the setting `$NEO4J_HOME/conf/neo4j.conf`:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-authenticate-with-cypher-shell-without-specifying-the-username-and-password-on-the-command-line.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I automate the copy of auth files in a clustered environment", "description": "In a clustered Neo4j implementation, user authentication files are recorded in each instance at $NEO4J_HOME/data/dbms.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-automate-the-copy-of-auth-files-in-a-clustered-environment.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I compare two graphs for equality", "description": "If you are looking to compare 2 graphs (or sub-graphs) to determine if they are equivalent, the following Cypher will produce a md5sum of the nodes and properties to make that comparison. For example, you may wish to compare a test/QA instance with a production instance.", "category": "cypher", "cypher_examples": ["MATCH (n:Movie)\nWITH n\nORDER BY n.title\nWITH collect(properties(n)) AS propresult\nRETURN apoc.util.md5(propresult);", "MATCH (n:Movie)\nWITH n\nORDER BY n.title\nWITH collect(properties(n)) AS propresult\nCALL apoc.util.md5(propresult) YIELD value AS md5_property\nRETURN md5_property", "CREATE (n:Movie {title:'The Matrix', genre:'Sci-Fi'})\nCREATE (n1:Movie {title:'The Matrix', genre:'Action'})"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-compare-two-graphs-for-equality.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I configure init and max java heap when running bin/neo4j-backup", "description": "When running `$NEO4J_HOME/bin/neo4j-backup` if a Java out of heap/memory error occurs you may want define the init and max", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-configure-init-and-max-java-heap-when-running-bin-neo4j-backup.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do i configure Neo4j so that data/graph.db/messages.log is automatically rotated", "description": "As tested and verified with Neo4j 2.3.0, the `data/graph.db/messages.log`, its size and number of rotated archives is governed by the following parameters in the `conf/neo4j.properties` file", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-configure-neo4j-so-that-data-graph-db-messages-log-is-automatically-rotated.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I convert a property representing a date timestamp to another timezone", "description": "https://neo4j.com/docs/cypher-manual/current/syntax/temporal/[Temporal datatype] support was introduced with with Neo4j 3.4 and as a result it", "category": "cypher", "cypher_examples": ["MATCH (n:Person) \n       where    exists(n.date_enrolled)\n       return   n.date_enrolled,\n                datetime({datetime:datetime(n.date_enrolled), timezone:'America/New York'}) as EST limit 1;", "CREATE (n:Person) set n.date_enrolled='2019-02-26T01:23:40Z'"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-convert-a-property-representing-a-date-timestamp-to-another-timezone.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I convert Neo4j logs from base UTC to local timezone", "description": "With the introduction of Neo4j https://github.com/neo4j/neo4j/pull/10217[3.3.1] it is possible to represent date timestamps in", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-convert-neo4j-logs-from-base-utc-to-local-timezone.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I define a LOAD CSV FIELDTERMINATOR in hexidecimal notation", "description": "When using https://neo4j.com/docs/developer-manual/current/cypher/#query-load-csv[LOAD CSV] one can define the field delimiter used,", "category": "cypher", "cypher_examples": ["LOAD CSV WITH HEADERS from 'file:///actors.csv' as row\nFIELDTERMINATOR ';'\nRETURN row.name;", "LOAD CSV WITH HEADERS from 'file:///actors.csv' as row\nFIELDTERMINATOR '\\u0080'\nRETURN row.name;"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-define-a-load-csv-fieldterminator-in-hexidecimal-notation.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I define, display, and use parameters with neo4j-shell", "description": "`bin/neo4j-shell` allows for a command line interface to query your graph via Cypher statements and to include parameters to those statements.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-define-display-use-parameters-with-neo4j-shell.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I define my graph.db at a path other than under NEO4J_HOME for Windows", "description": "Commencing with Neo4j 3.0, the default location for your `graph.db` directory is under `$NEO4J_HOME\\databases\\`.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-define-my-graphdb-at-a-path-other-than-under-neo4j-home-for-windows.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I determine the number of nodes and relationships to be effected by a detach delete", "description": "Prior to running a `match .... detach delete n;` which will find said nodes and delete all relationships associated with said nodes as well as delete the nodes themselves one might want to run a query to determine how many nodes/relationships will be effected.", "category": "cypher", "cypher_examples": ["match (n:Person) return count(n), sum ( size( (n)-[]->()));"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-determine-number-of-nodes-and-relationships-effected-by-detach-delete.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I display a hostname rather than IP address in the Causal Clustering Members section of sysinfo", "description": "Via the browser one can enter `:sysinfo` to display data about the Neo4j system. When Neo4j is configured as a", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-display-a-hostname-rather-than-ip-address-in-causal-clustering-members-section-of-sysinfo.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I display all nodes with no defined labels", "description": "Although assigning a node one or more labels provides many benefits (i.e. performance gains from index usage, ability to group nodes into sets, etc), it is possible to create a node without any labels.", "category": "cypher", "cypher_examples": ["MATCH (n) WHERE size(labels(n)) = 0 RETURN n"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-display-all-nodes-with-no-defined-labels.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I display date and time of when neo4j was started and other metrics", "description": "The following Cypher will utilize the JMX metrics as part of 3.1 Enterprise and display the date/time when Neo4j was started.", "category": "cypher", "cypher_examples": ["CALL dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Kernel\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return row,\n         case row\n             when 'StoreCreationDate' then apoc.date.format(attributes[row][\"value\"],\"ms\", null, apoc.date.systemTimezone())\n             when 'KernelStartTime' then apoc.date.format(attributes[row][\"value\"],\"ms\", null, apoc.date.systemTimezone())\n             else attributes[row][\"value\"] end as value;"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-display-date-and-time-of-when-neo4j-was-started-and-other-metrics.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I display the nodes with the most properties", "description": "To display the nodes with the most properties defined, run the following Cypher:", "category": "cypher", "cypher_examples": ["MATCH (n)\nRETURN labels(n), keys(n), size(keys(n)), count(*)\nORDER BY size(keys(n)) DESC"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-display-the-nodes-with-the-most-properties.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I display the REST code from the 3.0 Browser", "description": "In Neo4j 3.0 and its implementation of the Bolt protocol, requests submitted via the browser (http://localhost:7474) are submitted using Bolt.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-display-the-rest-code-from-the-3-0-browser.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I enable Java Flight Recorder and view the Results", "description": "http://www.oracle.com/technetwork/java/javaseproducts/mission-control/java-mission-control-1998576.html[Java Flight Recorder] can", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-enable-java-flight-recorder-and-view-the-results.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I enable remote HTTPS access with Neo4j 3.0.x", "description": "With 3.0.x to enabled remote clients to connect to a HTTPS enabled browser the following parameters in the `$NEO4J_HOME/conf/neo4j.conf` need to be changed from the default of", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-enable-remote-https-access-with-neo4j-30x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I export Cypher Favorites recorded in the browser", "description": "Cypher Favorites are common Cypher statements which one can save to the left panel of the Neo4j browser.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-export-cypher-favorites-recorded-in-the-browser.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I improve the performance of counting number of relationships on a node", "description": "Using Cypher one could count number of relationships in the following manner", "category": "cypher", "cypher_examples": ["MATCH (n:Actor {name:'Sylvester Stallone'})-->() RETURN count(*);", "MATCH (n:Actor {name:'Sylvester Stallone'})\nRETURN size((n)-->())", "MATCH (n:Actor {name:'Sylvester Stallone'})\nRETURN size( (n)-[:ACTED_IN]->())"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-improve-the-performance-of-counting-number-of-relationships-on-a-node.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I log parameter values into the query.log file", "description": "Neo4j 3.0 introduced the ability to log the value of query parameters in the `log/query.log` file.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-log-parameter-values-into-the-query-log-file.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I override browser configuration settings", "description": "Commencing with Neo4j 3.2.2 one can override default configuration settings of the browser whereby a number of these settings", "category": "security", "cypher_examples": [":config", ":config {maxFrames:10, theme: \"outline\"}"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-override-browser-configuration-settings.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I pass parameters when calling apoc.cypher.runFile", "description": "https://neo4j.com/developer/neo4j-apoc/[APOC] allows one to have a stored procedure,", "category": "cypher", "cypher_examples": ["create (n:Person {id:123, name:'Emil Eifrem'});", "call apoc.cypher.runFile(\"myRunFile.cyp\",{}) yield row, result;", "create (n:Person { id: $id_p1, name: $name_p2});"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-pass-parameters-when-calling-apoc-cypher-runfile.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I perform the equivalent of a SQL Create Table as Select with Cypher", "description": "With a traditional SQL RDBMS one could perform a `create table as select` (i.e. CTAS) whereby its purpose is to create a", "category": "cypher", "cypher_examples": ["MATCH (n:Movie) \nMERGE (m:New_Movie) \nSET m=n;", "call apoc.periodic.iterate(\"MATCH (n:Movie) RETURN properties(n) as props\", \"CREATE (m:New_Movie) SET m = props\",{});"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-perform-the-equivalent-of-a-sql-ctas.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I produce a profile/explain through cypher-shell and pipeing query file", "description": "If you prepare a file with a Cypher statement that includes either a", "category": "cypher", "cypher_examples": ["profile match (n:Movies) return count(n);"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-produce-a-profile-explain-through-cypher-shell-and-pipeing-query-file.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I produce an inventory of statistics on nodes, relationships, properties", "description": "Using the following Cypher", "category": "cypher", "cypher_examples": ["MATCH (n) WHERE rand() <= 0.1\nWITH labels(n) as labels, size(keys(n)) as props, size((n)--()) as degree\nRETURN\nDISTINCT labels,\ncount(*) AS NumofNodes,\navg(props) AS AvgNumOfPropPerNode,\nmin(props) AS MinNumPropPerNode,\nmax(props) AS MaxNumPropPerNode,\navg(degree) AS AvgNumOfRelationships,\nmin(degree) AS MinNumOfRelationships,\nmax(degree) AS MaxNumOfRelationships"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-produce-an-inventory-of-statistics-on-nodes-relationships-properties.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "How do I quickly identify long gc pauses via the messages or debug logs", "description": "Java Garbage Collection (gc) pauses are monitored by the `MonitorGc` process in Neo4j, and recorded in the `$NEO4J_HOME/logs/debug.log` (", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-quickly-identify-long-gc-pauses-via-the-messages-or-debug-logs.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I quickly switch between multiple graphs without modifying neo4j.conf?", "description": "If you have multiple graphs set up and want to quickly switch between each without modifying `dbms.active_database` in `conf/neo4j.conf`,", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-quickly-switch-between-multiple-graphs-without-modifying-neo4j-conf.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I report on nodes with multiple labels", "description": "If your data model has chosen to define multiple labels on a node, for example", "category": "cypher", "cypher_examples": ["create (n:Actor:Director {name:'Clint Eastwood'})", "match (n) where n:Actor and n:Director return n;", "MATCH (n:Actor) RETURN n UNION MATCH (n:Director) RETURN n"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-report-on-nodes-with-multiple-labels.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I run Consistency Check Manually?", "description": "If you skip the Consistency Check part of neo4j-backup, or you want to check that all is well with a data store, you can run the tool against an offline store.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-run-consistency-check-manually.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I set a breakpoint in a Cypher statement for further analysis", "description": "If you wish to set a 'breakpoint' in a Cypher statement so as to perform further analysis", "category": "cypher", "cypher_examples": ["MERGE (n:Movie {title:'The Matrix'}) \nset n.production_company='Warner Brothers'\nwith n call apoc.util.sleep(10000) return n;", "MERGE (n:Movie {title:'The Matrix'})  \nwith n call apoc.util.sleep(10000)  \nset n.production_company='Warner Brothers' return n;"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-set-a-breakpoint-in-a-cypher-statement-for-further-analysis.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I specify the field and array delimiter to neo4j-import as a ASCII character", "description": "http://neo4j.com/docs/operations-manual/current/tutorial/import-tool/[neo4j-import] allows one to initially load a graph.db via CSV files.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-specify-the-field-and-array-delimiter-to-neo4j-import-as-a-ascii-character.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I use Cypher to connect to a RDBMS using JDBC", "description": "With the inclusion of java stored procedures in Neo4j 3.x, one can run Cypher to connect to a RDBMS using JDBC.", "category": "cypher", "cypher_examples": ["CALL apoc.load.jdbc('jdbc:mysql://localhost:3306/proddb1?user=root&password=football','select title from movies where studio=\\'MGM Studios\\'') YIELD row\nCREATE (n:Movies {name:row.title})", "call apoc.load.driver('com.mysql.jdbc.Driver')", "CALL apoc.load.jdbc('myalias','select title from movies where studio=\\'MGM Studios\\'') YIELD row\nCREATE (n:Movies {name:row.title})"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-use-cypher-to-connect-to-a-rbms-using-jdbc.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I use LOAD CSV to update/set properties of existing nodes", "description": "One can use `LOAD CSV` to perform a bulk update to existing nodes, and create new nodes, as follows.", "category": "cypher", "cypher_examples": ["LOAD CSV FROM \"file:///Movies.csv\" AS csvLine\nMERGE (n:Movie {id:csvLine[0]})\nON CREATE SET n.id=csvLine[0],n.name=csvLine[1], n.TotalRevenue = csvLine[2]\nON MATCH SET n.TotalRevenue = csvLine[2]"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-use-load-csv-to-update-set-properties-of-existing-nodes.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I use LOAD CSV with data including quotes", "description": "When using *LOAD CSV* to read a file which includes data with double quote characters (\"), the quotes need to be escaped as 2 double quote characters", "category": "security", "cypher_examples": ["LOAD CSV WITH HEADERS FROM \"file:///courses.csv\" AS row CREATE (:Course { courseID: toInt(row.COURSE_ID), courseTitle: row.COURSE_TITLE});"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-use-load-csv-with-data-including-quotes.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How do I view the column headers of a CSV file with LOAD CSV", "description": "If one has a CSV file with the following content", "category": "cypher", "cypher_examples": ["load csv with headers from 'file:///test.csv' as row with row limit 1 return keys(row);"], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-view-the-column-headers-of-a-csv-file-with-load-csv.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "How do I zoom in/out within the graph visualization of the browser?", "description": "Within the graph visualization pane of the browser (reached locally at http://localhost:7474), to zoom in/out of the graph display one first needs to select *Full Screen* mode. The zoom in/out controls are located in the bottom-right corner.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-i-zoom-in-out-within-the-graph-visualization-of-the-browser.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I recover from No space left on device", "description": "If one does not routinely monitor the disk space usage on a Neo4j server one may encounter a 'No space left on device'", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-do-recover-from-no-space-left-on-device.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How does apoc.periodic.iterate work with resources?", "description": "How does apoc.periodic.iterate work?", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-does-apoc-periodic-iterate-work-with-resources.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "How Neo4j Browser uses bolt+routing", "description": "There are two kinds of Bolt drivers specified by URI scheme: the *bolt://* scheme is used to create a direct driver and the *bolt+routing://* scheme is used to create a routing driver.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-neo4j-browser-bolt-routing.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How Does Neo4j Browser interact with Neo4j Server?", "description": "Starting with Neo4j 3.2, the Neo4j Browser only supports Bolt connectivity to the Neo4j Server.  This requires that the network", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-neo4j-browser-interacts-with-neo4j-server.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to avoid costly traversals with join hints", "description": "When matching a pattern using Cypher, the number of possible paths to evaluate often correlates with query execution time.", "category": "cypher", "cypher_examples": ["MATCH (me:Person {name:'Me'})-[:FRIENDS_WITH]-(friend)-[:LIKES]->(a:Artist)<-[:LIKES]-(me)\nRETURN a, count(a) as likesInCommon", "MATCH (me:Person {name:'Me'})-[:FRIENDS_WITH]-(friend)-[:LIKES]->(a:Artist)<-[:LIKES]-(me)\nUSING JOIN on a\nRETURN a, count(a) as likesInCommon"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-avoid-costly-traversals-with-join-hints.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to avoid using excessive memory on deletes involving dense nodes", "description": "In situations where you know you need to delete a bunch of nodes (and by rule their relationships as well), it can be tempting to simply", "category": "cypher", "cypher_examples": ["MATCH (n:TTL)\nWHERE n.ttl < timestamp()\nWITH collect(n) AS nn\nCALL apoc.periodic.commit(\"\n  UNWIND $nodes AS n\n  WITH sum(size((n)--())) AS count_remaining,\n       collect(n) AS nn\n  UNWIND nn AS n\n  OPTIONAL MATCH (n)-[r]-()\n  WITH n, r, count_remaining\n  LIMIT $limit\n  DELETE r\n  RETURN count_remaining\n\",{limit:10000, nodes:nn}) yield updates, executions, runtime, batches, failedBatches, batchErrors, failedCommits, commitErrors\nUNWIND nn AS n\nDELETE n\nRETURN updates, executions, runtime, batches"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-bulk-delete-dense-nodes.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to check for time range overlap in Cypher", "description": "Neo4j 3.4 introduced temporal types into Cypher, so now we have dates, dateTimes, and their local versions, too, as well as durations.", "category": "cypher", "cypher_examples": ["CREATE (:Event {id:1, start:date(), end:date() + duration({days:5})}),\n       (:Event {id:2, start:date() + duration({days:3}), end:date() + duration({days:8})})", "MATCH (e1:Event {id:1}), (e2:Event {id:2})\nWITH CASE WHEN e1.start >= e2.start THEN e1.start ELSE e2.start END as maxStart,\n     CASE WHEN e1.end <= e2.end THEN e1.end ELSE e2.end END as minEnd\nRETURN maxStart <= minEnd as rangesOverlap", "MATCH (e1:Event {id:1}), (e2:Event {id:2})\nRETURN apoc.coll.max([e1.start, e2.start]) <= apoc.coll.min([e1.end, e2.end]) as rangesOverlap"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-check-time-range-overlap.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to collect Neo4j logs", "description": "When raising Neo4j Support cases, it is important to upload Neo4j logs.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-collect-neo4j-logs.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to configure mixed-mode security (native and LDAP) in Neo4j", "description": "For environments where you need both LDAP authentication as well as some native user accounts, there is a way to allow this in Neo4j 3.1 and newer. Use the configuration setting `dbms.security.auth_providers` instead of the singular version `dbms.security.auth_provider`. This will allow you to supply a list of providers to use for authentication.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-configure-mixed-mode-security-in-neo4j.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to configure off-heap transaction state", "description": "WARNING: This feature is experimental in 3.5, on by default in 4.0.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-configure-off-heap-transaction-state.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to estimate initial memory configuration", "description": "The initial and eventual memory configuration parameters can be a moving target, based on how your store changes in size and how your workload increases or changes over time.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-estimate-initial-memory-configuration.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to fix \"Cannot close the PageCache while files are still mapped\"", "description": "It is common to start the database as different users, this can leave store files owned by other user ids.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-fix-cannot-close-the-pagecache-while-files-are-still-mapped.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to generate sysinfo output from Cypher", "description": "If you need to generate the equivalent output from command `:sysinfo` as run from the Neo4j Browser at http://localhost:7474", "category": "cypher", "cypher_examples": ["call dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Store file sizes\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"StoreSizes\" as type,row,attributes[row][\"value\"]\n\nunion all\n\ncall dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Page cache\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"PageCache\" as type,row,attributes[row][\"value\"]\n\nunion all\n\ncall dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Primitive count\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"ID Allocations\" as type,row,attributes[row][\"value\"]  \n\nunion all\n\ncall dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Transactions\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"Transactions\" as type,row,attributes[row][\"value\"]\n\nunion all\n\ncall dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=High Availability\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"High Availability\" as type,row,attributes[row][\"value\"]\n\nunion all\n\ncall dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Causal Clustering\") yield attributes\n       with  keys(attributes) as k , attributes\n       unwind k as row\n       return \"Causal Cluster\" as type,row,attributes[row][\"value\"];"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-generate-sysinfo-output-from-cypher.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to get a high level inventory of objects in your graph (part 2)", "description": "Following the knowledge base article on link:https://support.neo4j.com/hc/en-us/articles/227267088-How-to-get-a-high-level-inventory-of-objects-in-your-graph[How to get a high level inventory of objects in your graph], this article will cover how to get more detailed high level inventory of objects in your graph.", "category": "cypher", "cypher_examples": ["match (n) return 'Number of Nodes: ' + count(n) as output UNION\nmatch ()-[]->() return 'Number of Relationships: ' + count(*) as output UNION\nCALL db.labels() YIELD label RETURN 'Number of Labels: ' + count(*) AS output UNION\nCALL db.relationshipTypes() YIELD relationshipType  RETURN 'Number of Relationships Types: ' + count(*) AS output UNION\nCALL db.propertyKeys() YIELD propertyKey  RETURN 'Number of Property Keys: ' + count(*) AS output UNION\nCALL db.constraints() YIELD description RETURN 'Number of Constraints:' + count(*) AS output UNION\nCALL db.indexes() YIELD description RETURN 'Number of Indexes: ' + count(*) AS output UNION\nCALL dbms.procedures() YIELD name RETURN 'Number of Procedures: ' + count(*) AS output"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-get-a-high-level-inventory-of-objects-in-your-graph-part-2.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to get a high level inventory of objects in your graph", "description": "The following Cypher can be used to get a simple high level view of the number of objects within your graph database.", "category": "cypher", "cypher_examples": ["match (n) return 'Number of Nodes: ' + count(n) as output UNION\nmatch ()-[]->() return 'Number of Relationships: ' + count(*) as output UNION\nCALL db.labels() YIELD label RETURN 'Number of Labels: ' + count(*) AS output UNION\nCALL db.relationshipTypes() YIELD relationshipType  RETURN 'Number of Relationships Types: ' + count(*) AS output UNION\nCALL db.propertyKeys() YIELD propertyKey  RETURN 'Number of Property Keys: ' + count(*) AS output UNION\nCALL db.constraints() YIELD description RETURN 'Number of Constraints:' + count(*) AS output UNION\nCALL db.indexes() YIELD description RETURN 'Number of Indexes: ' + count(*) AS output UNION\nCALL dbms.procedures() YIELD name RETURN 'Number of Procedures: ' + count(*) AS output"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-get-a-high-level-inventory-of-objects-in-your-graph.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to implement a primary key property for a label", "description": "Commencing with Neo4j 2.3.x it is possible to create the equivalent of a primary key on a property of a label.", "category": "cypher", "cypher_examples": ["CREATE CONSTRAINT ON (book:Book) ASSERT book.isbn IS UNIQUE\nCREATE CONSTRAINT ON (book:Book) ASSERT exists(book.isbn)"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-implement-a-primary-key-property-for-a-label.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to import a GrapheneDB database into Neo4j Desktop", "description": "This assumes you already have the zip file of the GrapheneDB database.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-import-a-graphenedb-database-into-neo4j-desktop.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to install Neo4j in a disconnected environment", "description": "Premise: You are working with a private/disconnected environment and would like to install the Neo4j Database using RPM packages as a source.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-install-neo4j-in-a-disconnected-environment.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to List and Install Neo4j Versions Using yum", "description": "Prior to Neo4j 3.2, the rpm distribution of Neo4j was experimental at this time. Use with caution and we advise installing", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-list-and-install-neo4j-versions-using-yum.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to log to neo4j.log in a Server Plugin", "description": "As part of the major changes in 3.0, the way to log to the user log, now neo4j.log (in server mode), has changed. To log within a Server Plugin follow these steps:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-log-to-neo4jlog-in-a-server-plugin.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to log to neo4j.log in an Unmanaged Extension", "description": "As part of the major changes in 3.0, the way to log to the user log, now neo4j.log (in server mode), has changed. To log within an Unmanaged Extension is quite straightforward:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-log-to-neo4jlog-in-an-unmanaged-extension.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to logrotate neo4j.log file", "description": "The neo4j.log file is a redirection to STDOUT. When you implement a default logrotate strategy,", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-logrotate-neo4j-dot-log.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Retired: How to manually clear the Node and Relationship Cache", "description": "This is no longer applicable in Neo4j 2.3+", "category": "modeling", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-manually-clear-the-node-and-relationship-cache.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "How to monitor if a follower is in sync with Leader (Causal Cluster)", "description": "To monitor if a Follower is in sync with its Leader, or know how much it is lagging behind, it is possible to check the *Last Commited Transaction Id* from Leader and Follower.", "category": "security", "cypher_examples": ["call dbms.queryJmx(\"org.neo4j:instance=kernel#0,name=Transactions\") yield attributes \nreturn attributes[\"LastCommittedTxId\"]"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-monitor-if-a-follower-is-in-sync-with-leader-causal-cluster.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to monitor Neo4j with Prometheus", "description": "Commencing with the release of Neo4j Enterprise 3.4, one can now use the open source monitoring tool", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-monitor-neo4j-with-prometheus.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to perform a Soundex search", "description": "Using https://neo4j.com/labs/apoc/4.4/overview/apoc.text/apoc.text.phonetic/[apoc.text.phonetic] one can perform a", "category": "cypher", "cypher_examples": ["CREATE (n:Person {name:'Anders'})\nCREATE (m:Person {name:'Andrew'})\nCREATE (p:Person {name:'Andres'})"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-perform-a-soundex-search.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to properly shutdown a Neo4j database after receiving the message *took more than 120 seconds to stop*", "description": "The neo4j script under the `bin/` directory of any standard Neo4j install is the primary means of shutting down a running Neo4j instance. That script accepts a `stop` argument that will try to shutdown the running instance by sending a `SIGTERM` signal that the JVM interprets as a shutdown command and runs the installed shutdown hooks, which Neo4j implements to ensure a clean shutdown.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-properly-shutdown-a-neo4j-database.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to Setup Neo4j to Startup on Linux Server Reboot", "description": "If you want to emulate the Neo4j RPM service with a tar installation on Linux systems, do the following steps:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-setup-neo4j-to-startup-on-linux-server-reboot.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Solving the \"Store copy failed due to store ID mismatch\" error", "description": "It is possible that after seeding a cluster or restoring from a backup, you may encounter the following error while starting your cluster:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-solve-store-copy-failed-due-to-store-id-mismatch.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How activation keys work", "description": "Activation keys are mini-contracts that are signed by Neo4j, granting access to a \"feature\". Typically,", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-use-activation-keys.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to use the BI Connector on the Command Line", "description": "This article describes how to use the BI Connector integration with SQLLine.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-use-the-bi-connector-with-sqlline.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to use the BI Connector with Tableau Desktop", "description": "This article describes how to use the BI Connector integration with Tableau Desktop.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-use-the-bi-connector-with-tableau-desktop.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to use the BI Connector with Tableau Server", "description": "This article describes how to use the BI Connector integration with Tableau Server.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-use-the-bi-connector-with-tableau-server.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to Use the Debug Log Parser Script", "description": "For analysis of the Neo4j debug.log, read this guide for using the `debugInfo.sh` parser script.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\how-to-use-the-debug-log-parser-script.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to write a Cypher query to return the top N results per category", "description": "The following Cypher describes how you can display the Top 5 test scores within an entire :Score population broken", "category": "cypher", "cypher_examples": ["create (n:Score {student_id: 'DC001', score: 89, field_of_study: 'chemistry'});\ncreate (n:Score {student_id: 'MK812', score: 97, field_of_study: 'chemistry'});\ncreate (n:Score {student_id: 'JT909', score: 77, field_of_study: 'chemistry'});\ncreate (n:Score {student_id: 'SA743', score: 84, field_of_study: 'chemistry'});\ncreate (n:Score {student_id: 'EH331', score: 68, field_of_study: 'chemistry'});\n\ncreate (n:Score {student_id: 'AE034', score: 89, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'DC001', score: 91, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'JF623', score: 74, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'TP810', score: 77, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'BB317', score: 82, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'AH042', score: 61, field_of_study: 'economics'});\ncreate (n:Score {student_id: 'RV448', score: 59, field_of_study: 'economics'});", "match (n:Score) \nwith n order by n.score desc\nwith n.field_of_study as class,collect(n.student_id + '('+ n.score +')') as student\nreturn class,student[0..5]\norder by class", "match (n:Score) \nwith n order by n.score desc\nwith n.field_of_study as class,collect({student_id:n.student_id, score:n.score}) as student\nreturn class,student[0..5]\norder by class"], "source_file": "articles\\modules\\ROOT\\pages\\how-to-write-a-cypher-query-to-return-the-top-n-results-per-catgeory.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Importing CSV Files: Neo4j Aura, Desktop and Sandbox", "description": "Loading various kinds of files into Neo4j requires different locations depending on the tool you are using.", "category": "cypher", "cypher_examples": ["LOAD CSV FROM 'https://raw.githubusercontent.com/<yourFileRepositoryPath>' AS row\nRETURN row \nLIMIT 20", "LOAD CSV FROM 'http://data.neo4j.com/northwind/products.csv' AS row\nRETURN row", "LOAD CSV WITH HEADERS FROM 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSx5-mHPUs7hQ3292zrLL_FeNzo85iC83TiezRcPl_SUv4NpW0e2VZilCUH9KbCWExAfE7OAELgdCW8/pub?gid=0&single=true&output=csv' AS row\nRETURN row"], "source_file": "articles\\modules\\ROOT\\pages\\import-csv-locations.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Increasing Systemd Thread Limits", "description": "In some high workload, and large scale multi-database environments, you may find that your Systemd unit configuration limits the maximum number of processes (\"tasks\") too low for your use case.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\increasing-systemd-thread-limits.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Index limitations and workarounds", "description": "In this article we discuss index providers and what limitations and workarounds there are.", "category": "cypher", "cypher_examples": ["CREATE INDEX \"My index\" FOR (p:Person) ON (p.name)"], "source_file": "articles\\modules\\ROOT\\pages\\index-limitations-and-workaround.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Installing Neo4j Database on Debian or Ubuntu fails with \"The following packages have unmet dependencies\"", "description": "*Installing Neo4j Database on Debian or Ubuntu fails with the error:*", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\installing-neo4j-on-debian-or-ubuntu-fails-with-packages-have-unmet-dependencies.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Why did I get the Kernel API returned non-existent relationship type: -1 exception?", "description": "In rare situations, the Neo4j Bolt driver throws an IllegalStateException. The top part of the stack appears as:", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\kernel-api-returned-non-existent-relationship-type-exception.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Large Delete Transaction Best Practices in Neo4j", "description": "In order to achieve the best performance, and avoid negative effects on the rest of the system, consider these best practices when processing large deletes.", "category": "cypher", "cypher_examples": ["MATCH (n:Foo) where n.foo='bar'\nCALL { WITH n\nDETACH DELETE n\n} IN TRANSACTIONS OF 10000 ROWS;", "call apoc.periodic.iterate(\"MATCH (n:Foo) where n.foo='bar' return id(n) as id\", \"MATCH (n) WHERE id(n) = id DETACH DELETE n\", {batchSize:10000})\nyield batches, total return batches, total", "// Find the nodes you want to delete\nMATCH (n:Foo) where n.foo = 'bar'\n\n// Take the first 10k nodes and their rels (if more than 100 rels / node on average lower this number)\nWITH n LIMIT 10000\nDETACH DELETE n\nRETURN count(*);"], "source_file": "articles\\modules\\ROOT\\pages\\large-delete-transaction-best-practices-in-neo4j.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "LDAP Error: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", "description": "When configuring LDAP with certificates you may encounter the following issue:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\ldap-error-unable-to-find-valid-certification-path-to-requested-target.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Limiting Bolt Threads vs Connections", "description": "Given high levels of read/write transaction requests, some ingress transactions may be rejected by the Neo4j server and the", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\limiting-bolt-threads-vs-connections.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Limiting MATCH results per row", "description": "Since `LIMIT` applies to the total number of rows of the query, it can't be used in cases when matching from multiple nodes where the limit must be on match results per row.", "category": "cypher", "cypher_examples": ["MATCH (:Movie{title:'The Matrix'})<-[:ACTED_IN]-(p:Person)\n                   MATCH (p)-[:ACTED_IN]->(m)\n                   RETURN p, m LIMIT 3", "MATCH (:Movie{title:'The Matrix'})<-[:ACTED_IN]-(p:Person)\nCALL {\n    WITH p\n    MATCH (p)-[:ACTED_IN]->(m)\n    RETURN m\n    LIMIT 3\n}\n\nRETURN p, m", "MATCH (:Movie{title:'The Matrix'})<-[:ACTED_IN]-(p:Person)\nCALL {\n    WITH p\n    MATCH (p)-[:ACTED_IN]->(m)\n    WITH m\n    LIMIT 3\n    RETURN collect(m) as movies\n}\n\nRETURN p, movies"], "source_file": "articles\\modules\\ROOT\\pages\\limiting-match-results-per-row.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Linkurious bolt configuration", "description": "Default Linkurious configuration contains the following snippet in the `production.json` configuration file:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\linkurious-bolt-configuration.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Linux Out of Memory killer", "description": "The Out Of Memory Killer or OOM Killer is a process that the linux kernel employs when the system is critically low on memory. This", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\linux-out-of-memory-killer.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "List of restricted ports in browsers", "description": "This document provides a list of ports which generate an error when browsing via Chrome. It is a super-set of ports most of which are also restricted in Mozilla Firefox", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\list-of-restricted-ports-in-browsers.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Load CSV data in Neo4j from CSV files on Amazon S3 Bucket", "description": "Neo4j provides LOAD CSV cypher command to load data from CSV files into Neo4j or access CSV files via HTTPS, HTTP and FTP.", "category": "cypher", "cypher_examples": ["LOAD CSV WITH HEADERS FROM \"https://rohank.s3.amazonaws.com/actors.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAICM6A3RO53KOKSRQ%2F20190404%2Fus-east-2%2Fs3%2Faws4_request&X-Amz-Date=20190404T215301Z&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=61cb485af12daa60bb8cb7a91fb503797311c8e178d9bfa3c7ff49770e4535b5\" as row return count(row)"], "source_file": "articles\\modules\\ROOT\\pages\\load-csv-data-from-csv-files-on-aws-s3-bucket.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Lock Manager Differences Explained", "description": "Work in Progress", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\lock-manager-differences-explained.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Long GC Pauses caused by application code calling `System.gc()`", "description": "When investigating the cause of long garbage collection cycles, it is often useful to enable GC logging.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\long-pauses-caused-by-application-code-calling-system-gc.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Manually Merging neo4j-wrapper.conf into neo4j.conf in Neo4j 3.1", "description": "Neo4j 3.1 takes the configuration changes made in Neo4j 3.0 a step further, and ships with a single configuration file: `conf/neo4j.conf`. This is the result of merging the contents of `conf/neo4j.conf` and `conf/neo4j-wrapper.conf`. The upgrade does not merge these automatically, and `conf/neo4j-wrapper.conf` is deprecated but still supported until the end of 3.x. This, merging the two is optional at this point, but a good step to take in preparation for future versions.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\manually-merging-neo4jwrapperconf-into-neo4jconf-in-neo4j-31.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Manually Migrating Configuration Settings from Neo4j 2.x to Neo4j 3.x", "description": "One of the major changes in Neo4j 3.0 was the reworking of configuration files and the individual configuration setting naming convention to make it more consitent and managable going forward. A config-migrator tool is supplied in Neo4j 3.0 to assist in automating this. However, for some users, this is not an option or not ideal. For those users, the following reference table lists the previous configuration setting name, the new name, and the resulting change from the pre-3.0 setting.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\manually-migrating-configuration-settings-from-neo4j-2x-to-neo4j-3x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Migrating Explicit Lucene Indexes to Native Schema Indexes", "description": "Given that there are still some customers on the older Neo4j releases that utilize legacy/explicit indexes, we will discuss a few pointers here on how to convert these indexes to native schema indexes when upgrading to Neo4j version 4.x, as legacy/explicit indexes have been deprecated as of 3.5.x, and totally removed from the 4.x version.", "category": "modeling", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\migrating-explicit-lucene-indexes-to-native-schema-indexes.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How do I establish a simple HTTP Server local to my Neo4j Instance to serve CSV files", "description": "When using https://neo4j.com/docs/cypher-manual/current/functions/load-csv/[LOAD CSV] one can define", "category": "cypher", "cypher_examples": ["load csv from 'http://192.168.97.215:8000/movies.csv' as row"], "source_file": "articles\\modules\\ROOT\\pages\\minimalistic-local-webserver-for-load-csv.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Mitigating Causal Cluster re-elections caused by high GCs", "description": "This article describes the effects of JVM stop-the-world GC pauses, on a causal cluster. A brief introduction to garbage collection,", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\mitigating-causal-cluster-re-elections-caused-by-high-gcs.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Retired: Modifying the http.log Format on Neo4j 2.x", "description": "Prior to Neo4j 3.0, the http.log format was controlled by `neo4j-http-logging.xml`. The default format works fine, except when you need", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\modifying-the-httplog-format-on-neo4j-2x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Run multiple Causal Clusters locally using Docker", "description": "It's rather easy to run multiple causal clusters on the same server or machine. You need to ensure:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\multiple-causal-clusters-using-docker.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j 3.5 to 4.x Migration Help and Resources", "description": "This guide is designed to provide key details and links on various 3.5 to 4.x migration resources.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-3dot5-to-4-dot-x-migrations-best-practices.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j 4.2.x Security Vulnerability Fixed in Release 4.2.8", "description": "Neo4j 4.2.x Enterprise and Aura Cloud before 2021-06-18", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-4-2-x-sec-vuln-fix.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "neo4j-admin load causes \"Not a valid Neo4j archive\"", "description": "When using `neo4j-admin load` for loading a .dump file, following error is observerd:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-admin-load-causes-not-a-valid-neo4j-archive.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j & JDBC: the Neo4j JDBC Driver vs. BI Connector", "description": "This page describes the connection between JDBC and Neo4j,", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-and-jdbc.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j behaviour when running out of disk space (3.4+)", "description": "Following the improvements on the recovery process after an instance runs out of disk space introduced in v3.4.0, this article aims to offer a view on the behaviour of Neo4j when this happens.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-behaviour-when-running-out-of-disk-space-3-4.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j's commit process explained", "description": "This article will try to guide you through Neo4j's commit and replication processes both for single instances and causal clusters.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-commit-process-explained.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j current transaction commit process order", "description": "Transactions in Neo4j use a read-committed isolation level, which means they will see data as soon as it has been committed and will", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-current-transaction-commit-process-order.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j Desktop password change failure", "description": "This document provides info and resolution for the error message on a clean install of Desktop 1.0.2x,", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-desktop-password-change-failure.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Bulk Import / Backups into running 4.0 instances", "description": "Neo4j 4.0 allows for multiple running databases. You can use `neo4j-admin import` or `neo4j-admin restore` to import or restore a database into a new database on a running 4.0 instance.", "category": "security", "cypher_examples": ["neo4j> :use system\nneo4j> create database dataload1\nneo4j> show databases\nneo4j> :use dataload1\nneo4j> MATCH (n:STORE) return n limit 3;", "neo4j> :use system\nneo4j> create database dataload2\nneo4j> show databases\nneo4j> :use dataload2\nneo4j> MATCH (n:STORE) return n limit 3;", "neo4j> :use system\nneo4j> create database dataload1\nneo4j> show databases\nneo4j> :use dataload1\nneo4j> MATCH (n:STORE) return n limit 3;"], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-import-into-running-4-0-instance.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Neo4j specific http request user agent strings", "description": "For those https://neo4j.com/labs/apoc/[APOC] commands that retrieve data using HTTP/HTTPS,", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-specific-http-request-user-agent-strings.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j Streams - Kafka Integration - List of Must Gather for Troubleshooting", "description": "When troubleshooting issues on Neo4j Streams, use the below list of must gather information points to help investigating.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-streams-kafka-integration-list-of-mustgather-for-troubleshooting.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Neo4j: Convert string to date", "description": "Neo4j 3.4 saw the https://neo4j.com/blog/neo4j-graph-database-3-4-ga-release/[introduction of the temporal date type^], and while there is now powerful in built functionality, converting strings to dates is still a challenge.", "category": "cypher", "cypher_examples": ["RETURN date(\"2019-06-04\") AS date", "RETURN date(\"04/06/2019\") AS date", "WITH [item in split(\"20/07/2018\", \"/\") | toInteger(item)] AS dateComponents\nRETURN date({day: dateComponents[0], month: dateComponents[1], year: dateComponents[2]}) AS date"], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-string-to-date.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Neo4j Supported Versions", "description": "### Latest Neo4j Database Enterprise Edition", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\neo4j-supported-versions.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Number of open files", "description": "GNU/Linux and Mac OS operating systems impose an upper limit on the number of concurrent files a user may have open.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\number-of-open-files-on-linux.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Parsing json query logs", "description": "There are times when we have to examine a query log in order to find longest running queries and/or other problem queries such as those with missing indexes or when not using parameters appropriately.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\parsing-json-query-logs.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Parsing of quotes for LOAD CSV and/or Import", "description": "When using http://neo4j.com/docs/developer-manual/current/cypher/clauses/load-csv/[LOAD CSV] or", "category": "cypher", "cypher_examples": ["LOAD CSV WITH HEADERS FROM \"file:///hr.csv\" AS row FIELDTERMINATOR ','  CREATE (n:Staff { staffid: toInt(row.id), staff_name: row.name});", "neo4j> match (n) return n;\n+"], "source_file": "articles\\modules\\ROOT\\pages\\parsing-of-quotes-for-load-csv-and-or-import.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Pass Temporal Objects as Parameters", "description": "With the support of datetime types in Neo4j, users might wonder how or if it works to transport those types along with other data types via the drivers.", "category": "cypher", "cypher_examples": ["CREATE (p:Person { name: 'Bob', birthday: date(2018,01,01) })"], "source_file": "articles\\modules\\ROOT\\pages\\pass-temporal-objects-parameters.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Performing match intersection", "description": "Match intersection is a common use case where you're searching for nodes which have relationships to all of a set of input nodes.", "category": "cypher", "cypher_examples": ["WITH ['Keanu Reeves', 'Hugo Weaving', 'Emil Eifrem'] as names\nMATCH (p:Person)-[:ACTED_IN]->(m:Movie)\nWHERE p.name in names\nRETURN m", "WITH ['Keanu Reeves', 'Hugo Weaving', 'Emil Eifrem'] as names\nMATCH (p:Person)-[:ACTED_IN]->(m:Movie)\nWHERE p.name in names\nWITH m, size(names) as inputCnt, count(DISTINCT p) as cnt\nWHERE cnt = inputCnt\nRETURN m", "WITH ['Keanu Reeves', 'Hugo Weaving', 'Emil Eifrem'] as names\nMATCH (p:Person)\nWHERE p.name in names\nWITH collect(p) as persons\nMATCH (m:Movie)\nWHERE ALL(p in persons WHERE (p)-[:ACTED_IN]->(m))\nRETURN m"], "source_file": "articles\\modules\\ROOT\\pages\\performing-match-intersection.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Performing pattern negation to multiple nodes", "description": "Some use cases require matching to nodes which aren't connected to any of some other set of nodes.", "category": "cypher", "cypher_examples": ["(:Recipe)-[:INCLUDES]->(:Ingredient)", "MATCH (excluded:Ingredient)\nWHERE excluded.name in $excludedIngredients\nMATCH (r:Recipe)\nWHERE NOT (r)-[:INCLUDES]->(excluded)\nRETURN r", "MATCH (excluded:Ingredient)\nWHERE excluded.name in $excludedIngredients\nWITH collect(excluded) as excluded\nMATCH (r:Recipe)-[:INCLUDES]->(i)\nWITH excluded, r, collect(i) as ingredients\nWHERE NONE (i in ingredients where i in excluded)\nRETURN r"], "source_file": "articles\\modules\\ROOT\\pages\\performing-pattern-negation.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Getting \"Permission Denied\" errors after using neo4j-admin commands", "description": "If you have leveraged Debian or RPM Packages to install Neo4j on Linux (or used one of the Public Cloud Marketplace offerings), you need to be careful of file and folder permissions.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\permission-denied-errors-after-neo4j-admin.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Planning Data Center Migration", "description": "The following KB describes the process that you can use utilizing backup (or Read-Replicas) in order to migrate (and/or upgrade) from one datacenter(DC1) to another(DC2) in a rolling fashion with no zero downtime.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\planning-data-center-migration.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Post-UNION processing", "description": "Cypher does not allow further processing of `UNION` or `UNION ALL` results, since `RETURN` is required in all queries of the union.", "category": "cypher", "cypher_examples": ["CALL {\n  MATCH (movieOrPerson:Movie) RETURN movieOrPerson\n  UNION\n  MATCH (movieOrPerson:Person) RETURN movieOrPerson\n}\nWITH movieOrPerson\n...", "MATCH (m:Movie {title:'The Matrix'})\nCALL {\n    WITH m\n    MATCH (m)<-[:ACTED_IN]-(p)\n    RETURN p\n    UNION\n    WITH m\n    MATCH (m)<-[:DIRECTED]-(p)\n    RETURN p\n}\nRETURN p.name as name\nORDER BY name ASC", "MATCH (m:Movie)\nWHERE m.title CONTAINS 'Matrix'\nCALL {\n    WITH m\n    WITH m as movie\n    MATCH (m)<-[:DIRECTED]-(p)\n    RETURN p.name as name\n    UNION\n    WITH m\n    WITH m\n    WHERE m.title CONTAINS 'Reloaded'\n    MATCH (m)<-[:ACTED_IN]-(p)\n    RETURN p.name as name\n}\nRETURN DISTINCT name\nORDER BY name ASC"], "source_file": "articles\\modules\\ROOT\\pages\\post-union-processing.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Preserving the Neo4j pagecache across database restarts", "description": "Commencing with Neo4j 3.4 and as a result of https://github.com/neo4j/neo4j/pull/10957[PR 10957], and when using Neo4j Enterprise the", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\preserving-the-neo4j-pagecache-across-database-restarts.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Proper File Permissions on Neo4j Server", "description": "When installing Neo4j Server, keep in mind that the `bin/neo4j` executable will need to be run by some OS system user, and that user will need write permissions to some files/directories, specifically to the `data` directory.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\proper-file-permissions-on-neo4j-server.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Properly escaping input data for neo4j-import", "description": "`neo4j-import` is intended to populate a new, empty database.", "category": "security", "cypher_examples": ["neo4j> match (n:Movie) return n.line;\n+", "neo4j> match (n:Movie) return n;\n+"], "source_file": "articles\\modules\\ROOT\\pages\\properly-escaping-input-data-for-neo4j-import.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Protecting against Cypher Injection", "description": "Cypher Injection is a way for maliciously formatted input to jump out of its context, and by altering the query itself, hijack the query and perform unexpected operations on the database.", "category": "cypher", "cypher_examples": ["CREATE (s:Student)\nSET s.name = 'Robby' WITH true as ignored MATCH (s:Student) DETACH DELETE s; //';", "CREATE (s:Student)\nSET s.name = $studentName", "MATCH (user) WHERE user.id = $userid;"], "source_file": "articles\\modules\\ROOT\\pages\\protecting-against-cypher-injection.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Protecting against Server Side Request Forgery (SSRF)", "description": "Server-side request forgery (SSRF) vulnerabilities let an attacker send crafted requests from the back-end server of a vulnerable web application. Criminals usually use SSRF attacks to target internal systems that are behind firewalls and are not accessible from the external network.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\protecting-against-ssrf.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to Configure Proxy in Neo4j Desktop", "description": "Organizations have proxy settings in order to access the internet or external websites.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\proxy-setting-for-neo4j-desktop.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Query to kill transactions that take longer than X seconds and doesn't contain certain keywords", "description": "In Neo4j we currently have the configuration property referred to as execution guard:", "category": "cypher", "cypher_examples": ["call dbms.listQueries() yield query, elapsedTimeMillis, queryId, username\nwhere  NOT query contains toLower(LOAD\")\nand elapsedTimeMillis >30000\nwith query, collect(queryId) as q\ncall dbms.killQueries(q) yield queryId\nreturn query, queryId", "call dbms.listQueries() yield query, elapsedTimeMillis, queryId, username\nwhere  NOT username contains toLower(\"neo4j\")\nand elapsedTimeMillis >30000\nwith query, collect(queryId) as q\ncall dbms.killQueries(q) yield queryId\nreturn query, queryId", "CALL apoc.periodic.repeat(\"kill long-running queries\", \"\n    call dbms.listQueries() yield query, elapsedTimeMillis, queryId, username\n    where NOT username contains toLower(\"neo4j\")\n    and elapsedTimeMillis >30000\n    with query, collect(queryId) as q\n    call dbms.killQueries(q) yield queryId\n    return query, queryId\n\", 10)"], "source_file": "articles\\modules\\ROOT\\pages\\query-to-kill-transactions-that-take-longer.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Recommendations for recovery upon Out Of Memory error", "description": "It is possible to configure the JVM (Java Virtual Machine) such that upon encountering an OOM (Out-Of-Memory) error it will force an exception and crash or simply shut down the application. Taking action upon first OOM occurrence can help in avoiding further victims of low memory situations that may encounter OOM depending on their memory demand at the time and also reduce the time to recovery. Additionally, this may actually allow the failed operations due to OOM to complete successfully after ", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\recommendations-for-recovery-upon-out-of-memory-error.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Recovering Local Bloom Perspectives", "description": "When Bloom is connected to a Neo4j server that does not have the Bloom plugin installed it stores perspectives locally in the Web Browser or Neo4j Desktop's local storage.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\recovering-local-bloom-perspectives.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Recreating Indexes and Constraints on 3.5", "description": "This article describes the process to drop and recreate all indexes and constraints on 3.5.x.", "category": "performance", "cypher_examples": ["CALL db.constraints() YIELD description\nRETURN 'DROP ' + description + '; CREATE ' + description + ';'", "CALL db.indexes() YIELD description,type\nWHERE type='node_label_property'\nRETURN 'DROP ' + description + '; CREATE ' + description + ';'", "match (n:<LABEL>) \nwith n, size(n.<property>) as prop_length \nwhere prop_length >= 4036 \nreturn n.<property>, prop_length, id(n) \norder by n.id desc"], "source_file": "articles\\modules\\ROOT\\pages\\recreating-indexes-and-constraints-on-35.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Redirect Neo4j logs to sysout (using rsyslog)", "description": "Sometimes - due to organizational requirements, security, indexing or plain convenience - we want to output all of our application logs to Linux's sysout. While Neo4j doesn't offer this feature, we can use RSYSLOG (www.rsyslog.com) to achieve that and we can do this in 6 easy steps.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\redirect-neo4j-logs-to-sysout-using-rsyslog.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Requirement makes database unavailable: Database available --- INITIALIZED diagnostics START ---", "description": "When running `neo4j-admin backup`, the debug.log shows a message that appears to indicate that the database restarted; however, this is not the case.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\requirement-makes-database-unavailable-database-available-initialized-diagnostics-start.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Resetting query cardinality", "description": "As queries execute, they build up result rows. Cypher executes operations per-row.", "category": "cypher", "cypher_examples": ["MATCH (p:Person)\nWHERE (p)-[:ACTED_IN]->(:Movie)\nSET p:Actor\n\nCREATE (:Movie{title:'The Animatrix'})", "MATCH (p:Person)\nWHERE (p)-[:ACTED_IN]->(:Movie)\nSET p:Actor\n\nWITH DISTINCT 1 AS ignored\nCREATE (:Movie{title:'The Animatrix'})"], "source_file": "articles\\modules\\ROOT\\pages\\resetting-query-cardinality.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Resolve Port Conflicts in Neo4j Desktop", "description": "Occasionally upon upgrade or re-install, Neo4j Desktop may throw a repetitive port conflict exception for ports 7474, 7687,", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\resolve-port-conflicts-in-neo4j-desktop.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to resolve Python Bolt Driver when executed gives an error \"(\"Failed to establish connection to {!r}\".format(address))\"", "description": "Take the example of Python with the latest Bolt driver 1.2.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\resolve-python-bolt-driver-error-connection.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Resolve TLS certificate errors", "description": "TLS encryption is required everywhere.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\resolve-tls-certificate-errors.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Running copy store tool on windows", "description": "The copy store utilities is a set of tools to compact, copy, fix and analyse Neo4j stores. You might already know this but if not, you can", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\running-copy-store-tool-on-windows.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Running Docker as Non-Root User", "description": "When running Neo4j Docker, it will run as `neo4j` user inside the container. But to run docker as a different user one can specify the `--user` argument.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\running-docker-as-nonroot-user.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Sending Neo4j messages to a Slack channel", "description": "Although not specific to Neo4j and this knowledge base document is provided as a convenience, if your environment has a", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\sending-neo4j-message-to-slack-channel.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Setting Max Open File Limits on Mac OSX", "description": "This document provides a process for setting soft and hard max open file limits on MAC OSX. Each thread created by a user", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\setting-max-open-file-limits-on-osx.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to set up SSL communcation when running Neo4j within a Docker Container", "description": "Neo4j 3.2 added a Unified SSL Framework to setup secure connections for Bolt, HTTPS and Intra-Cluster Encryption.  Details on this", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\setting-up-ssl-with-docker.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Setup Neo4j Service to run with different service ID", "description": "By default when neo4j is installed as an RPM via yum or apt-get, it creates a user `neo4j` and group `neo4j` and runs as `neo4j` user.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\setup-neo4j-service-with-different-service-id.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Setup Routing Policies for Different User Types To Direct them to Different Servers", "description": "There is a Causal Cluster Setup with 3 Cores and 1 Read Replica. There are 2 user groups - OLTP users and OLAP users.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\setup-routing-policies-for-different-user-types.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Shared vs Exclusive Transaction locks", "description": "This document describes the meaning of a shared lock as seen by transactions and the difference between a shared and exclusive lock.", "category": "performance", "cypher_examples": ["MATCH (p:Person)\nWHERE p.name = 'Tom Hanks'\nset p.award= 'Oscar'", "MATCH (p:Person)\nWHERE p.name = 'Tom Hanks'\nSET p.award = 'Oscar'\nwith p\ncall apoc.util.sleep(200000)\nRETURN p.award", "call dbms.listTransactions() yield currentQueryId , currentQuery\nwith currentQueryId, currentQuery\nWHERE currentQuery STARTS WITH \"MATCH (p:Person)\"\nWITH currentQueryId\ncall dbms.listActiveLocks(`currentQueryId`) YIELD mode, resourceType\nRETURN mode, resourceType"], "source_file": "articles\\modules\\ROOT\\pages\\shared-vs-exclusive-transaction-locks.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Solve dependency issues", "description": "There are multiple ways to include neo4j artifacts.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\solve-dependency-issues.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "How to import a file with LOAD CSV that has a space in file name?", "description": "When you try to import data from a file using LOAD CSV where the filename containing spaces for example you get the following error:", "category": "cypher", "cypher_examples": ["load csv from \"file:///test copy.csv\" as row return row", "load csv from \"file:///test%20copy.csv\" as row return row"], "source_file": "articles\\modules\\ROOT\\pages\\space-in-import-filename-for-load-csv.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "How to specify a separate debug.log for the backup process?", "description": "When running `neo4j-admin backup` on a running Neo4j instance the backup logs are also written into the existing Neo4j instance `debug.log` and can get confusing as to which line items in the debug.log is part of backup process and those that are from running Neo4j instance.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\specify-separate-debug-log-for-backup.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Split between APOC Core and APOC Extended", "description": "With the release of Neo4j 5, the APOC library has been split into two separate packages: https://neo4j.com/docs/apoc/5/[APOC Core] and https://neo4j.com/labs/apoc/5/[APOC Extended].", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\split-between-apoc-core-and-apoc-extended.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Startup failure due to misconfigured unmanaged extensions or plugins", "description": "Occasionally, following upgrades, one might encounter Neo4j server initialisation failure due to an exception similar to:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\startup-failure-misconfigured-unmanaged-extensions-or-plugins.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Stopping the Neo4j docker image in order to restore from a backup", "description": "In a https://neo4j.com/docs/operations-manual/current/installation/docker/[`neo4j docker installation`], the https://neo4j.com/docs/operations-manual/current/backup-restore/restore-backup/#restore-backup-command[`neo4j-admin restore`] requires the neo4j service to be stopped as one can't do a restore on a running database. Subsequently, running as a docker image, stopping neo4j server could be done using a `Ctrl-C` (from within the docker terminal) or `docker stop <container id>` from a separate", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\stopping-and-restoring-neo4j-docker-image.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Store Format Versions Reference Guide", "description": "In some situations, you may see a log message or exception that refers to a store format version, and it is not clear", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\store-format-versions.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Explantion of \"storeId is different from this machine\" error", "description": "If you encounter a \"Failed to serve TxPullRequest for ... storeId xxxxxx because that storeId is different from this machine with Store...\" in your `$NEO4J_HOME/logs/debug.log` similar to:", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\storeid-is-different-from-this-machine.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "TLS/SSL Configuration for Specific Ciphers", "description": "Per documentation: `dbms.ssl.policy.<policyname>.ciphers` is by default set to the Java platform default allowed cipher suites, which can also be explicitly set to any specific ciphers (separated by \",\") to further restrict list of allowed ciphers, thus enabling us to enforce a particular single strong cipher (if needed) and remove any doubt about which cipher gets negotiated and chosen.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\tls-ssl-configuration-for-specific-ciphers.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Troubleshooting Connection Issues in Neo4j Browser and Cypher Shell", "description": "This page describes common issues users may encounter in connecting Neo4j Browser or cypher-shell to a Neo4j database,", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\troubleshooting-connection-issues.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Troubleshooting Neo4j Desktop Issues on Linux", "description": "This page describes common issues users may encounter when running Neo4j Desktop on Linux.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\troubleshooting-neo4j-desktop-linux.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Tuning GC algorithms", "description": "There are several Garbage Collection algorithms available in Java.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\tuning-gc-algorithms.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "java.lang.OutOfMemoryError: unable to create new native thread", "description": "When a client application establishes a session with a Neo4j server via the bolt or bolt+routing protocols, the server allocates a thread", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\unable-to-create-new-native-thread.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding aggregations on zero rows", "description": "Aggregations in Cypher can be tricky in some cases.", "category": "cypher", "cypher_examples": ["MATCH (person:Person)\nWHERE person.nonExistentProperty = 123\n// after the WHERE, there are 0 rows\nRETURN count(person) as count\n// but when we apply the count(), we get a single row with 0", "MATCH (person:Person)\nWHERE person.nonExistentProperty = 123\n// after the WHERE, there are 0 rows\nRETURN collect(person) as people\n// but when we apply the collect(), we get a single row with []", "MATCH (person:Person)-[:ACTED_IN]->(movie:Movie)\nWITH person, count(movie) as actedMovieCount\n..."], "source_file": "articles\\modules\\ROOT\\pages\\understanding-aggregations-on-zero-rows.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding causal cluster quorum and cluster recovery", "description": "Several major causal cluster operations require a majority of cluster members to be online, a majority quorum.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-causal-cluster-quorum-and-cluster-recovery.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding causal cluster size scaling", "description": "The ability to safely scale down the size of a causal cluster affords us more robustness for instance failures, provided we maintain quorum as the failures take place.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-causal-cluster-size-scaling.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Tuning Cypher queries by understanding cardinality", "description": "Cardinality issues are the most frequent culprit in slow or incorrect Cypher queries.", "category": "cypher", "cypher_examples": ["MATCH (movie:Movie {title:'The Matrix'})<-[:ACTED_IN]-(actor)", "MATCH (movie:Movie {title:'The Matrix'})<-[:ACTED_IN]-(actor)\nMATCH (actor)-[:ACTED_IN]->(otherMovie)\n...", "MATCH (movie:Movie {title:'The Matrix'})<-[:ACTED_IN]-(actor)\nMATCH (movie)<-[:DIRECTED]-(director)\n..."], "source_file": "articles\\modules\\ROOT\\pages\\understanding-cypher-cardinality.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding Neo4j's data on disk", "description": "Neo4j database files are persisted to storage for long term durability. Data related files located in data/databases/graph.db (v3.x+) by default in the Neo4j data directory. Below will give you an idea of the type of files you'll find, prefaced with neostore.* and what data they are storing:", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-data-on-disk.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding Database Growth", "description": "The easiest way to determine the size of your graph is through the filesystem and summing up the size of the files named `\\*store.db*`.", "category": "security", "cypher_examples": ["USING PERIODIC COMMIT 50000\nLOAD CSV WITH HEADERS FROM 'file:///person.csv' AS row\nCREATE (:Person { id: row.id}  );"], "source_file": "articles\\modules\\ROOT\\pages\\understanding-database-growth.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding how MERGE works", "description": "The `MERGE` clause ensures that a pattern exists in the graph.", "category": "cypher", "cypher_examples": ["(:Student)-[:ENROLLED_IN]->(:Class)\n(:Student)-[:EARNED]->(:ReportCard)\n(:Class)-[:FOR_TERM]->(:Term)", "MERGE (student:Student{id:123})-[:ENROLLED_IN]->(class:Class{name:'Cypher101'})", "MATCH (student:Student{id:123})\nMATCH (class:Class{name:'Cypher101'})\nMERGE (student)-[:ENROLLED_IN]->(class)"], "source_file": "articles\\modules\\ROOT\\pages\\understanding-how-merge-works.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding logical logs and effects of parameters keep_logical_logs and logical_log_rotation_threshold", "description": "Neo4j maintains logical logs for incremental backup and cluster consistency.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-logical-logs-and-effects-of-parameters-keep-logical-logs-and-logical-log-rotation-threshold.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding memory configurations for neo4j-admin backup", "description": "When using https://neo4j.com/docs/operations-manual/current/backup/perform-backup/#backup-commands[`bin\\neo4j-admin backup`] to backup", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-memory-configurations-for-neo4j-admin-backup.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding memory consumption", "description": "So you have configured Neo4j to use 4GB of heap and 6GB of page cache and sat back relaxed, thinking the Java process would not go above 10GB in your 12GB machine only to realise that Neo4j had an OOM error and crashed. What's happening under the hood? Why is Neo4j consuming more memory than you allocated? Is this a memory leak or normal behaviour? So many questions! Let's try to answer some of these questions so that you're not caught off guard when it comes to memory.", "category": "performance", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-memory-consumption.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding Neo4j Query Plan Caching", "description": "This article is based on the behavior of Neo4j 2.3.2.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\understanding-neo4j-query-plan-caching.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Understanding non-existent properties and working with nulls", "description": "In Neo4j, since there is no table schema or equivalent to restrict possible properties, non-existence and null are equivalent for node and relationship properties.", "category": "cypher", "cypher_examples": ["MATCH (p:Person)\nWHERE p.id = $personId\nRETURN NOT EXISTS(p.email)", "MATCH (p:Person)\nWHERE p.id = $personId\nRETURN p.email IS NULL", "MATCH (p:Person)\nWHERE p.id = $personId\nSET p.email = null"], "source_file": "articles\\modules\\ROOT\\pages\\understanding-non-existent-properties-and-null-values.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding the Query Plan Cache", "description": "When a Cypher statement is first submitted Neo4j will attempt to determine if the query is in the plan cache before planning it.", "category": "cypher", "cypher_examples": ["match (n) return count(n);\nMATCH (n) return COUNT(n);", "MATCH (n) return COUNT(n);\nMATCH (n) return      COUNT(n);\n\nMATCH (n)\nreturn COUNT(n);", "MATCH (n) return COUNT(n);\nPROFILE MATCH (n) return COUNT(n);"], "source_file": "articles\\modules\\ROOT\\pages\\understanding-the-query-plan-cache.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Understanding transaction and lock timeouts", "description": "One way to handle runaway queries is to impose a time limit that will terminate a query when exceeded.", "category": "cypher", "cypher_examples": ["CALL apoc.cypher.runTimeboxed(\"MATCH (n:Person{name:'Keanu Reeves'})-[*]-(other)\n RETURN count(*) as allPathsCount\",\n {}, 20000)"], "source_file": "articles\\modules\\ROOT\\pages\\understanding-transaction-and-lock-timeouts.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Updating a node but returning its state from before the update", "description": "Some use cases require updating node (or relationship) properties, but returning the node (or relationship) as it was prior to the update.", "category": "cypher", "cypher_examples": ["MATCH (p:Person{name:'Keanu Reeves'})\nWITH p, p {.*} as snapshot\nSET p.name = 'The One'\nRETURN snapshot", "MATCH (p:Person{name:'Keanu Reeves'})\nWITH p, p {.*, .lastUpdated} as snapshot\nSET p.lastUpdated = TIMESTAMP()\nRETURN snapshot", "MATCH (p:Person{name:'Keanu Reeves'})\nWITH p, properties(p) as snapshot\nSET p.name = 'The One'\nRETURN snapshot"], "source_file": "articles\\modules\\ROOT\\pages\\updating-a-node-but-returning-its-state-from-before-the-update.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Upgrading your Causal Cluster from 3.1.x to 3.2.x", "description": "This article outlines possible steps to upgrade your Neo4j 3.1.2+ Causal Cluster to 3.2.2. For this upgrade path, Neo4j does not support rolling upgrades, so downtime is required to complete the process. However, the following procedure tries to minimize the downtime for both, reads and writes while retaining data safety/high availability where possible. This trade-off may not be the best for all setups.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\upgrading-causal-cluster.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Upgrading to Neo4j 3.0 Enterprise Step-by-Step - Linux", "description": "Neo4j 3.0 is a major release that includes both a directory structure reorganization and a configuration file/parameter name overhaul.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\upgrading-to-neo4j-3-0-enterprise-step-by-step-linux.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Upstream strategy behaviour change", "description": "Starting with version 3.4, we changed in the behaviour of how instances sync with the Leader. This change can potentially affect the", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\upstream-strategy-behaviour-change.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Use Java Runtime 11 with Neo4J 3.5.x", "description": "Neo4j 3.5.x supports Java 11 as runtime, however custom code should still be compiled against Java 8.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\use-java-runtime-11-with-neo4j-3-5-x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Useful Cypher statements for suspending and reactivating users", "description": "Commencing with Neo4j 3.1 and implementaion of https://neo4j.com/docs/operations-manual/current/security/authentication-authorization/native-user-role-management/[native database users]", "category": "cypher", "cypher_examples": ["call dbms.security.listUsers() yield username, flags \nwith username,flags \nwhere 'is_suspended' in flags\nreturn username", "// users with no  is_suspended flag and build the statement to activate the user and not force a password change\ncall dbms.security.listUsers() yield username, flags with username, flags \nwhere not 'is_suspended' in flags  \nreturn 'call dbms.security.activateUser(\\'' + username + '\\',false);'", "// users with no  is_suspended flag\ncall dbms.security.listUsers() yield username, flags with username, flags \nwhere not 'is_suspended' in flags  \nreturn 'call dbms.security.suspendUser(\\'' + username + '\\');'"], "source_file": "articles\\modules\\ROOT\\pages\\useful-cypher-statements-for-suspending-and-reactivating-users.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using apoc.load.jsonParams to load data from Zendesk into Neo4j to learn about article subscribers", "description": "The following document describes how to utilize the https://developer.zendesk.com/rest_api/docs/core/introduction[Zendesk API]", "category": "security", "cypher_examples": ["create index on :Section(id);\ncreate index on :User(id);\ncreate index on :Organization(id);\n\n// get all sections\nCALL apoc.load.jsonParams(\"https://your_domain.zendesk.com/api/v2/help_center/sections.json\",{Authorization:\"Basic base64Encoded_username:password\"},null)\n  yield value as sectionvalue\n  with sectionvalue\n  unwind sectionvalue.sections as section_item\n    Merge (n:Section {id:section_item.id,name:section_item.name, created_at:section_item.created_at, updated_at:section_item.updated_at,url:section_item.html_url})\n    with section_item.id as secid\n    // foreach section then find the subscribers\n    CALL apoc.load.jsonParams(\"https://your_domain.zendesk.com/api/v2/help_center/sections/\"+secid+\"/subscriptions.json?per_page=200\",{Authorization:\"Basic base64Encoded_username:password\"},null)\n       yield value as subscribervalue\n       with subscribervalue, secid\n       unwind subscribervalue.subscriptions as subscription_item\n            // create the relationship from the User to the Secction through the :Follows relationship\n            match (s:Section {id:secid}) with s,subscription_item\n            merge (n:User {id: subscription_item.user_id})\n            merge (n)-[:Follows {subscribed_on: subscription_item.created_at}]->(s)\n            with subscription_item.user_id as s_userid\n            CALL apoc.load.jsonParams(\"https://your_domain.zendesk.com/api/v2/users/\"+s_userid+\".json\",{Authorization:\"Basic base64Encoded_username:password\"},null)\n                 yield value as userRecord\n               with userRecord, s_userid\n               unwind userRecord.user as uid\n               match (n:User {id:s_userid})\n               set\n                     n.name=uid.name,\n                     n.email=uid.email,\n                     n.created_at=uid.created_at,\n                     n.last_login=uid.last_login_at,\n                     n.url=uid.url;\n\nmatch (n:User) where exists(n.organization_id)\n      with n,n.organization_id as organization_id\n      CALL apoc.load.jsonParams(\"https://your_domain.zendesk.com/api/v2/organizations/\"+organization_id+\".json\",{Authorization:\"Basic base64Encoded_username:password\"},null)\n      yield value as orgRecord\n      unwind orgRecord.organization as orgid\n      with n,orgid\n      merge (o:Organization {id: orgid.id, name: orgid.name, created_at: orgid.created_at})\n      merge (n)-[:IS_MEMBER_OF_ORG]->(o);", "match     (n:Section) \nreturn     n.name,\n           size (  (n)<-[:Follows]-() ) as subscribers\norder by   subscribers desc;", "match (s:Section)<-[r:Follows]-(u:User)-[:IS_MEMBER_OF_ORG]->(o:Organization)\nreturn      s.name,\n            u.name,\n            u.email,\n            o.name,\n            u.suspended,\n            r.subscribed_on as DateWhenSubscribed\norder by    s.name,\n            o.name,\n            u.name"], "source_file": "articles\\modules\\ROOT\\pages\\using-apoc-load-jsonparams-to-load-data-from-zendesk-into-neo4j-to-learn-about-article-subscribers.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using APOC to parse JSON results from Trello API", "description": "Prior to Neo4j 3.0, if you wanted to parse the JSON results from a call to a Web API, it would require you use one of the", "category": "cypher", "cypher_examples": ["WITH \"https://api.trello.com/1/member/me/actions?filter=createCard&limit=1000&key=00981709d8fa49b9fb3c66f41178c14h&token=06128ee9bb10787d6fdee4942c12b5de5f39be11794fcb0604e072e1940475e2\" AS url\nCALL apoc.load.json(url) YIELD value AS action\nWITH action, action.memberCreator AS m, action.data AS d\nMERGE (u:User {id:m.id}) ON CREATE SET u.initials = m.initials, u.name = m.fullname, u.user = m.username\nMERGE (b:Board {id: d.board.id}) ON CREATE SET b = d.board\nMERGE (c:Card {id: d.card.id}) ON CREATE SET c = d.card\nMERGE (u)-[r:CREATED]->(c) ON CREATE SET r.id = action.id, r.date_created=apoc.date.parse(action.date,'s',\"yyyy-MM-dd'T'HH:mm:ss'Z'\")\nMERGE (c)-[:IN_BOARD]->(b)\nRETURN count(*);", "MATCH (u:User)-[r:CREATED]->(c:Card)-[r2:IN_BOARD]->(b:Board) \nRETURN u.user AS Author, r.date_created,c.name AS CardName ,b.name AS BoardName"], "source_file": "articles\\modules\\ROOT\\pages\\using-apoc-to-parse-json-results-from-trello-api.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using apt to download a specific Neo4j debian package", "description": "By default, using `apt-get` to install Neo4j allows you to grab the current and previous stable releases.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-apt-get-to-download-a-specific-neo4j-debian-package.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Using AWS CLI to upload/download files to Amazon S3 bucket", "description": "If one has installed the https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html[AWS CLI]", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-aws-cli-to-upload-download-files-to-amazon-s3-buck.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Using Cypher and APOC to move a property value to a label", "description": "Commencing with Neo4j 3.0 and the introduction of stored procedures as well as link:https://github.com/neo4j-contrib/neo4j-apoc-procedures[APOC^] one can utilize the stored procedure link:https://neo4j.com/docs/labs/apoc/current/graph-updates/data-creation/[apoc.create.addLabels^] to move a property to a label with Cypher as follows", "category": "cypher", "cypher_examples": ["// create a node with property studio\ncreate (n:Movies {name: 'A Few Good Men', studio: 'Warner Brothers'})", "// move the 'studio' property to a label and remove it as a property\nMATCH (n:Movies) \ncall apoc.create.addLabels([ id(n) ], [ n.studio ]) yield node \nwith node \nremove node.studio\nreturn node"], "source_file": "articles\\modules\\ROOT\\pages\\using-cypher-and-apoc-to-move-a-property-value-to-a-label.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using Cypher to generate Cypher statements to recreate indexes and constraints", "description": "The following can be used to extract index definitions and constraint definitions from an existing database and the resultant", "category": "cypher", "cypher_examples": ["// create a schema index on :Movie(title)\n// 4.0 syntax\ncreate index movieTitles for (n:Movies) on (n.title); \n//\n// or 3.x syntax and a schema index on :Person(name)\ncreate index on :Person(name);\n//\n// create a constraint on :Movie such that no 2 Movies have the same tagline\ncreate constraint on (n:Movie) assert (n.tagline) is unique;", "neo4j> call db.indexes();\n+", "neo4j> call db.constraints();\n+"], "source_file": "articles\\modules\\ROOT\\pages\\using-cypher-to-generate-cypher-statements-to-recreate-indexes-and-constraints.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using Cypher to generate Cypher statements to recreate Users and Roles", "description": "The following can be used to extract user and role definitions from an existing database and the resultant output can be played", "category": "cypher", "cypher_examples": ["//export roles\nreturn '//export Roles' as output\nunion all\ncall dbms.security.listRoles() yield role return 'call dbms.security.createRole(\\'' + role + '\\');' as output\nunion all \n//export users\nreturn '//export Users' as output\nunion all\ncall dbms.security.listUsers() yield username return 'call dbms.security.createUser(\\'' + username + '\\',\\'newpassword\\');' as output\nunion all\n// export user to role maps\nreturn '//export Roles to User map' as output\nunion all\ncall dbms.security.listRoles() yield role,users with role,users unwind users as user return 'call dbms.security.addRoleToUser(\\'' + role + '\\',' + user + '\\');'  as output", "//export Roles\ncall dbms.security.createRole('reader');\ncall dbms.security.createRole('architect');\ncall dbms.security.createRole('admin');\ncall dbms.security.createRole('publisher');\n//export Users\ncall dbms.security.createUser('neo4j_dba','newpassword');\ncall dbms.security.createUser('neo4j','newpassword');\n//export Roles to User map\ncall dbms.security.addRoleToUser('admin',neo4j');\ncall dbms.security.addRoleToUser('admin',neo4j_dba');"], "source_file": "articles\\modules\\ROOT\\pages\\using-cypher-to-generate-cypher-statements-to-recreate-users-and-roles.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using explicit indexes for text search", "description": "Please note that in Neo4j 3.5 FullText search is available in Neo4j as part of Cypher stored procedures. More documentation is found here:", "category": "cypher", "cypher_examples": ["match (n:Movie) \nwith n\ncall db.index.explicit.addNode(\"MovieTitle\",n,\"title\",n.title) yield success return count(*)", "call db.index.explicit.list", "call db.index.explicit.searchNodes('MovieTitle','title:The*')"], "source_file": "articles\\modules\\ROOT\\pages\\using-explicit-indexes-for-text-search-in-neo4j.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using max() and min() while keeping items", "description": "The aggregation functions of `max()` and `min()` are very useful, but you can sometimes find yourself fighting against Cypher's aggregation behavior for cases that should be simple.", "category": "cypher", "cypher_examples": ["(:Person {name})-[:BOUGHT]->(:FoodItem {name})", "MATCH (person:Person)-[:BOUGHT]->(food:FoodItem)\nWITH person, food, count(food) as timesBought\nRETURN person, max(timesBought) as mostBoughtCount", "MATCH (person:Person)-[:BOUGHT]->(food:FoodItem)\nWITH person, food, count(food) as timesBought\nORDER BY timesBought DESC\nRETURN person, collect(food)[0] as favoriteFood, max(timesBought) as mostBoughtCount"], "source_file": "articles\\modules\\ROOT\\pages\\using-max-and-min-while-keeping-items.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Access to the neo4j-shell in NEO4J CE 3.x", "description": "From Neo4j 3.0 access to `neo4j-shell` is no longer possible from the desktop-installers for Windows and OSX.", "category": "cypher", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-neo4j-shell-neo4j-ce-3x.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Using Python 1.7.x Driver with Neo4j 4.0", "description": "At the time of writing this article the Bolt Driver for Python has not been released for Neo4j 4.0.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-python-with-neo4j-ver4-0.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Using Subqueries to Control the Scope of Aggregations", "description": "Aggregations, such as collect() and count(), show up as `EagerAggregation` operators (with dark blue headers) in query plans.", "category": "cypher", "cypher_examples": ["MATCH (movie:Movie)<-[:ACTED_IN]-(p:Person)\nRETURN movie, collect(p) as actors", "CALL apoc.periodic.iterate(\"\nUNWIND range(1,1000000) as id\nRETURN id\n\",\n\"\nCREATE (m:Movie {id:id})\nCREATE (p:Person {id:id})\n\", {}) YIELD batches, total, errorMessages\nRETURN batches, total, errorMessages", "CREATE INDEX ON :Person(id);\nCREATE INDEX ON :Movie(id);"], "source_file": "articles\\modules\\ROOT\\pages\\using-subqueries-to-control-the-scope-of-aggregations.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Using supervisord to manage Neo4j process", "description": "In general, running the neo4j process directly is the most common way to start and stop the neo4j server.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-supervisord-to-manage-neo4j-process.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Using the ACTUAL data type with neo4j-import", "description": "When importing data using `neo4j-admin import`, make sure to review the required CSV file structure and considerations before moving on.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\using-the-actual-data-type-with-neo4j-import.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Viewing schema data with APOC Procedures", "description": "APOC Procedures offers https://neo4j.com/labs/apoc/4.4/overview/apoc.meta/[meta procedures] to view information", "category": "modeling", "cypher_examples": ["CALL apoc.meta.schema() YIELD value as schemaMap\nUNWIND keys(schemaMap) as label\nWITH label, schemaMap[label] as data\nWHERE data.type = \"node\"\nUNWIND keys(data.properties) as property\nWITH label, property, data.properties[property] as propData\nRETURN label,\nproperty,\npropData.type as type, \npropData.indexed as isIndexed,\npropData.unique as uniqueConstraint, \npropData.existence as existenceConstraint", "CALL apoc.meta.schema() yield value\nUNWIND apoc.map.sortedProperties(value) as labelData\nWITH labelData[0] as label, labelData[1] as data\nWHERE data.type = \"node\"\nUNWIND apoc.map.sortedProperties(data.properties) as property\nWITH label, property[0] as property, property[1] as propData\nRETURN label, \nproperty, \npropData.type as type, \npropData.indexed as isIndexed, \npropData.unique as uniqueConstraint, \npropData.existence as existenceConstraint"], "source_file": "articles\\modules\\ROOT\\pages\\viewing-schema-data-with-apoc.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Warm the cache to improve performance from cold start", "description": "*Note:* For 3.5.x forward the details below are no longer applicable as Neo4j will keep record of what is in the pagecache at all times and upon restart of Neo4j the", "category": "performance", "cypher_examples": ["MATCH (n)\nOPTIONAL MATCH (n)-[r]->() \nRETURN count(n.prop) + count(r.prop);", "CALL apoc.warmup.run()"], "source_file": "articles\\modules\\ROOT\\pages\\warm-the-cache-to-improve-performance-from-cold-start.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "What Works with the BI Connector", "description": "This article provides an overview of what third-party applications to expect the BI connector work with.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\what-works-with-the-bi-connector.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "When authentication is enabled in Neo4j, how do I call the HA Status", "description": "REST API without a username/password", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\when-authentication-is-enabled-in-neo4j-how-do-i-call-the-ha-status-rest-api-without-a-username-password.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "When to use bookmarks", "description": "Bookmarks are part of a broader topic: *Causal consistency*.", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\when-to-use-bookmarks.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Where is my neo4j.log in Ubuntu Linux?", "description": "In most Neo4j server environments, all logs will be found in *NEO4J_HOME/logs*. However, when Neo4j is running as a service on a Ubuntu (debian)", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\where-is-my-neo4jlog-in-ubuntu-linux.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Why do my deleted property keys appear?", "description": "When using the Neo4j Browser and selecting the left frame and top icon entitled `Database Information` or using the built in", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\why-do-my-deleted-property-keys-appear.adoc", "authority_level": 1, "quality_tier": "medium"}
{"title": "Why does my CREATE CONSTRAINT take so long to complete", "description": "When creating a constraint, for example", "category": "cypher", "cypher_examples": ["CREATE CONSTRAINT ON (n:ZipCode) ASSERT n.name IS UNIQUE;", "Begin\ncreate (n:ZipCode {name:'94401'}) return n;"], "source_file": "articles\\modules\\ROOT\\pages\\why-does-my-create-constraint-take-so-long-to-complete.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Why doesn't my WHERE clause work?", "description": "It can be frustrating when it seems like a WHERE clause isn't working.", "category": "cypher", "cypher_examples": ["MATCH (m:Movie)\nOPTIONAL MATCH (m)<-[:WORKED_ON]-(a:Animator)\nWHERE m.releaseYear > 1999 AND a IS NOT NULL\nRETURN m, collect(a) as animators", "MATCH (m:Movie)\nOPTIONAL MATCH (m)<-[:WORKED_ON]-(a:Animator)\nWITH m, a\nWHERE m.releaseYear > 1999 AND a IS NOT NULL\nRETURN m, collect(a) as animators", "MATCH (m:Movie)\nWHERE NOT (m)<-[:worked_on]-(a:animator) AND m.ReleaseYear > 1999\nRETURN m"], "source_file": "articles\\modules\\ROOT\\pages\\why-where-clause-does-not-filter.adoc", "authority_level": 1, "quality_tier": "high"}
{"title": "Will execution_guard_enabled work in my release of Neo4j?", "description": "*Background*", "category": "security", "cypher_examples": [], "source_file": "articles\\modules\\ROOT\\pages\\will-execution-guard-enabled-work-in-my-release-of-neo4j.adoc", "authority_level": 1, "quality_tier": "low"}
{"title": "Working with streaks in Cypher", "description": "When using Cypher for data analysis, you might have a problem where you need to identify or filter based upon some kind of streak.", "category": "cypher", "cypher_examples": ["WITH [true, false, true, false, true, true, true, true, false, false, false, true, true] as games\nCALL apoc.coll.split(games, false) YIELD value\nRETURN value", "WITH [true, false, true, false, true, true, true, true, false, false, false, true, true] as games\nCALL apoc.coll.split(games, false) YIELD value as winStreak\nRETURN max(size(winStreak)) as longestWinStreak", "(:Team {name:string})-[:PLAYED {won:boolean}]->(:Game {date:date})"], "source_file": "articles\\modules\\ROOT\\pages\\working-with-streaks-in-cypher.adoc", "authority_level": 1, "quality_tier": "high"}
